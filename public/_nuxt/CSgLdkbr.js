import{c as ve}from"./D2GZmoDz.js";import{_ as fe}from"./CDst0A0O.js";import{a as _e,b as be,c as he,d as xe,_ as ye}from"./cStEOrWd.js";import{_ as we}from"./BHuR11Jx.js";import{_ as Ve}from"./DiZ4QL0M.js";import{_ as ke,b as Ue,a as Ie}from"./BF3m7Vf0.js";import{_ as Te}from"./C8Hj2bae.js";import{_ as De}from"./C30fSUvl.js";import{_ as Ce}from"./CprHmdOe.js";import{_ as Ee,a as Se,b as Le,c as $e,d as Me}from"./JYeLPbKT.js";import{_ as Re}from"./DLLw9AXE.js";import{_ as Be}from"./QXfa84Px.js";import{e as Ae,g as Oe,h as Ne,r as S,v as j,B as M,c as U,o as f,b as t,w as s,A as i,d as r,t as k,a as o,m as V,D as x,F,z as q,W as je}from"./BbheI0mw.js";/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ve("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Fe={class:"w-full border-none"},qe={class:""},ze={class:"flex flex-col gap-5"},He={class:"relative"},Ke={key:0,class:"relative"},Pe={key:1,class:"relative"},Ge={class:"relative"},We={class:"flex gap-2"},Je={class:"relative"},Qe={class:"flex gap-2"},Xe={class:"relative"},Ye={class:"flex gap-2"},Ze={class:"flex flex-col gap-4"},et={class:"relative"},tt={key:0,class:"flex gap-2"},lt={class:"relative"},at={class:"relative"},st={class:"flex flex-col gap-2"},nt={key:0,class:"relative"},ot={class:"relative"},ut={key:0},it={key:1},rt={class:"font-semibold text-lg"},dt={class:"flex justify-end w-full"},mt={class:"flex flex-col gap-5"},pt={class:"relative"},ct={class:"relative"},gt={class:"relative"},vt={class:"flex gap-2"},ft={class:"relative"},_t={class:"relative"},bt={class:"relative"},ht={class:"flex gap-2"},xt={class:"relative"},yt={class:"relative"},wt={class:"flex gap-2"},Vt={class:"relative"},kt={class:"relative"},Ut={class:"flex justify-end w-full"},It={class:"flex flex-col gap-5"},Tt={class:"relative"},Dt={class:"relative"},Ct={class:"relative"},Et={class:"relative"},St={class:"flex justify-end w-full"},Gt=Ae({__name:"CreateMasterReport",props:{masterId:{},curUser:{},initialData:{}},emits:["report-created"],setup(le,{emit:ae}){const{$useApi:z}=Oe(),{toast:H}=Ne(),K=ae,u=le,C=S(!1),w=S(!0),L=S("new"),p=j(()=>!!u.initialData),Q=["Стандартная","Уличная","РГБ","Смарт","Контражур","РГБ Контражур","ВБ","ОЗОН","Подарок"],se=["Контражур","РГБ Контражур"],ne=["Стандартная","Контражур","Подарок","Уличная","Уличная подсветка","РГБ Контражур","РГБ","Смарт"],X=["Стандартная","Уличная","РГБ","Смарт"],h={date:new Date().toISOString().slice(0,10),name:"",metrs:0,els:0,type:Q[0],cost:0,userId:u.masterId,penaltyCost:0,comment:"",lightingType:"",lightingLength:0,lightingElements:0,lightingCost:0},P={date:new Date().toISOString().slice(0,10),name:"",metrs:0,els:0,type:X[0],cost:0,userId:u.masterId,grinding:0,unpackage:0,unpackageBig:0,acoustics:0,smartContr:0},G={date:new Date().toISOString().slice(0,10),name:"",cost:0,userId:u.masterId},_=S({...G}),a=S(u.initialData?{...h,date:u.initialData.date||h.date,name:u.initialData.name||h.name,type:u.initialData.type||h.type,metrs:u.initialData.metrs??h.metrs,els:u.initialData.els??h.els,lightingType:u.initialData.lightingType||h.lightingType,lightingLength:u.initialData.lightingLength??h.lightingLength,lightingElements:u.initialData.lightingElements??h.lightingElements,lightingCost:0}:{...h}),d=S({...P}),Y=()=>{const{metrs:n,els:e,type:c}=a.value;let m=0;if(u.curUser.workSpaceId===8)switch(c){case"Стандартная":case"ВБ":case"ОЗОН":case"Подарок":m=n*60+e*30;break;case"Уличная":m=n*90+e*45;break;case"Уличная подсветка":m=n*54+e*37;break;case"РГБ Контражур":m=n*80+e*67;break;case"РГБ":case"Смарт":m=n*84+e*42;break;case"Контражур":m=n*36+e*18;break;default:m=0}else switch(c){case"Стандартная":case"ВБ":case"ОЗОН":case"Подарок":m=n*100+e*50;break;case"Уличная":case"РГБ Контражур":m=n*130+e*70;break;case"РГБ":case"Смарт":m=n*140+e*150;break;case"Контражур":m=n*60+e*30;break;default:m=0}a.value.cost=m},Z=()=>{const{lightingLength:n,lightingElements:e,lightingType:c}=a.value;let m=0;const y=!c||c==="none"||c==="";if(y||!n||!e){a.value.lightingCost=0,y&&(a.value.lightingLength=0,a.value.lightingElements=0,a.value.lightingType="none");return}if(u.curUser.workSpaceId===8)switch(c){case"Контражур":m=n*36+e*18;break;case"РГБ Контражур":m=n*80+e*67;break;default:m=0}else switch(c){case"Контражур":m=n*60+e*30;break;case"РГБ Контражур":m=n*130+e*70;break;default:m=0}a.value.lightingCost=m},oe=j(()=>(a.value.cost||0)+(a.value.lightingCost??0)),ee=j(()=>{const{lightingType:n,lightingLength:e,lightingElements:c}=a.value,m=!n||n==="none"||n==="";return!(!m&&n||(e??0)>0||(c??0)>0)?!0:!!(!m&&n&&(e??0)>0&&(c??0)>0)}),W=j(()=>{const{lightingType:n,lightingLength:e,lightingElements:c}=a.value;return!!(!(!n||n==="none"||n==="")&&n||(e??0)>0||(c??0)>0)&&!ee.value}),ue=()=>{const{metrs:n,els:e,type:c,grinding:m,unpackage:y,unpackageBig:I,acoustics:E,smartContr:T}=d.value;let v=0;if(u.curUser.workSpaceId!==8){switch(c){case"Стандартная":v=n*130+e*70;break;case"Уличная":v=n*140+e*80;break;case"РГБ":v=n*150+e*200;break;case"Смарт":v=n*160+e*180;break;default:v=0}v+=m*350,v+=y*50,v+=I*100,v+=E*150,v+=T*200}else{switch(c){case"Стандартная":v=n*80+e*40;break;case"Уличная":v=n*90+e*45;break;case"РГБ":v=n*100+e*90;break;case"Смарт":v=n*75+e*80;break;default:v=0}v+=m*200,v+=y*50,v+=I*100,v+=E*50,v+=T*200}d.value.cost=v},ie=async()=>{try{w.value=!0;const n={...a.value,userId:u.masterId,lightingType:a.value.lightingType==="none"?"":a.value.lightingType,orderId:u.initialData?.orderId};await z.post("production/master-report",n),C.value=!1,w.value=!1,K("report-created"),H({title:"Успех",description:"Отчет успешно создан"})}catch(n){console.log(n)}},re=async()=>{try{w.value=!0,await z.post("production/master-repair",{...d.value,userId:u.masterId}),C.value=!1,w.value=!1,K("report-created"),H({title:"Успех",description:"Ремонтный отчет успешно создан"})}catch(n){console.log(n)}},de=async()=>{try{w.value=!0,await z.post("production/other-report",{..._.value,userId:u.masterId}),C.value=!1,w.value=!1,K("report-created"),H({title:"Успех",description:"Отчет успешно создан"})}catch(n){console.log(n)}};return M(_,()=>{const{date:n,name:e,cost:c}=_.value;w.value=!(n&&e&&c)},{deep:!0}),M(a,()=>{Y(),Z();const{date:n,name:e,metrs:c,els:m,type:y}=a.value,I=u.curUser.role.shortName==="MASTER"||u.curUser.role.shortName==="PACKER"?!!(n&&e&&c>0&&m>0&&y):!!(n&&e&&y);w.value=!(I&&ee.value)},{deep:!0}),M(d,()=>{const{date:n,name:e,metrs:c,els:m,type:y,grinding:I,unpackage:E,unpackageBig:T,acoustics:v,smartContr:g}=d.value;ue(),w.value=!(n&&e&&c>=0&&m>=0&&y&&I>=0&&E>=0&&T>=0&&v>=0&&g>=0)},{deep:!0}),M(C,n=>{n?u.initialData&&(L.value="new",a.value={...h,userId:u.masterId,date:u.initialData.date||h.date,name:u.initialData.name||h.name,type:u.initialData.type||h.type,metrs:u.initialData.metrs??h.metrs,els:u.initialData.els??h.els,lightingType:u.initialData.lightingType||"",lightingLength:u.initialData.lightingLength??0,lightingElements:u.initialData.lightingElements??0,lightingCost:0},je(()=>{Y(),Z()})):(a.value={...h,userId:u.masterId,lightingType:"",lightingLength:0,lightingElements:0,lightingCost:0},d.value={...P,userId:u.masterId},_.value={...G,userId:u.masterId},L.value="new")}),M(L,()=>{a.value={...h,userId:u.masterId,lightingType:"",lightingLength:0,lightingElements:0,lightingCost:0},d.value={...P,userId:u.masterId},_.value={...G,userId:u.masterId},w.value=!0}),(n,e)=>{const c=fe,m=_e,y=xe,I=we,E=he,T=Ue,v=Ie,g=De,b=Ce,R=Le,B=Se,$=Me,A=Re,O=$e,N=Ee,te=Be,J=Te,me=ke,pe=Ve,ce=be,ge=ye;return f(),U("div",Fe,[t(ge,{open:C.value,"onUpdate:open":e[26]||(e[26]=l=>C.value=l)},{default:s(()=>[t(m,{"as-child":""},{default:s(()=>[t(c,{class:i(["w-full",p.value?"bg-neutral-700/70 text-neutral-300 border-1 border-neutral-500/20 hover:bg-neutral-700/50":""])},{default:s(()=>[r(k(u.initialData?"Выполнить":"Создать"),1)]),_:1},8,["class"])]),_:1}),t(ce,{class:i(["max-w-[400px] flex flex-col top-0 translate-y-[0px] max-h-[90vh] overflow-y-auto",p.value?"bg-neutral-800 text-neutral-300 border-1 border-neutral-500/20":""])},{default:s(()=>[t(E,null,{default:s(()=>[t(y,{class:i(p.value?"text-neutral-300":"")},{default:s(()=>[r(k(u.initialData?"Выполнить заказ":"Создать запись"),1)]),_:1},8,["class"]),t(I)]),_:1}),o("div",qe,[t(me,{modelValue:L.value,"onUpdate:modelValue":e[25]||(e[25]=l=>L.value=l)},{default:s(()=>[p.value?x("",!0):(f(),V(v,{key:0,class:"w-full mb-4"},{default:s(()=>[t(T,{class:"w-full",value:"new"},{default:s(()=>e[27]||(e[27]=[r(" Новое ",-1)])),_:1,__:[27]}),t(T,{class:"w-full",value:"repair"},{default:s(()=>e[28]||(e[28]=[r(" Ремонт ",-1)])),_:1,__:[28]}),t(T,{class:"w-full",value:"other"},{default:s(()=>e[29]||(e[29]=[r(" Другое ",-1)])),_:1,__:[29]})]),_:1})),t(J,{value:"new"},{default:s(()=>[o("div",ze,[o("div",He,[a.value.date?(f(),V(g,{key:0,class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1 whitespace-nowrap",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[30]||(e[30]=[r("Дата смены",-1)])),_:1,__:[30]},8,["class"])):x("",!0),t(b,{modelValue:a.value.date,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.date=l),min:new Date().toISOString().slice(0,10),type:"date",placeholder:"Дата смены",class:i([a.value.date?"":"outline-1 outline-rose-300",p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":""])},null,8,["modelValue","min","class"])]),u.curUser.workSpaceId!==8?(f(),U("div",Ke,[a.value.type?(f(),V(g,{key:0,class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[31]||(e[31]=[r("Тип",-1)])),_:1,__:[31]},8,["class"])):x("",!0),o("div",{class:i([a.value.type?"":"outline-1 outline-rose-300 rounded-md"])},[t(N,{modelValue:a.value.type,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.type=l)},{default:s(()=>[t(B,{class:i(p.value?"bg-neutral-800 text-neutral-300 border-neutral-500/20":"")},{default:s(()=>[t(R,{placeholder:"Тип"})]),_:1},8,["class"]),t(O,{class:i(["h-[250px]",p.value?"bg-neutral-800 text-neutral-300":""])},{default:s(()=>[(f(),U(F,null,q(Q,(l,D)=>t(A,{key:D},{default:s(()=>[t($,{value:l},{default:s(()=>[r(k(l),1)]),_:2},1032,["value"])]),_:2},1024)),64))]),_:1},8,["class"])]),_:1},8,["modelValue"])],2)])):(f(),U("div",Pe,[a.value.type?(f(),V(g,{key:0,class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[32]||(e[32]=[r("Тип",-1)])),_:1,__:[32]},8,["class"])):x("",!0),o("div",{class:i([a.value.type?"":"outline-1 outline-rose-300 rounded-md"])},[t(N,{modelValue:a.value.type,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.type=l)},{default:s(()=>[t(B,{class:i(p.value?"bg-neutral-800 text-neutral-300 border-neutral-500/20":"")},{default:s(()=>[t(R,{placeholder:"Тип"})]),_:1},8,["class"]),t(O,{class:i(p.value?"bg-neutral-800 text-neutral-300":"")},{default:s(()=>[(f(),U(F,null,q(ne,(l,D)=>t(A,{key:D},{default:s(()=>[t($,{value:l},{default:s(()=>[r(k(l),1)]),_:2},1032,["value"])]),_:2},1024)),64))]),_:1},8,["class"])]),_:1},8,["modelValue"])],2)])),o("div",Ge,[a.value.name?(f(),V(g,{key:0,class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[33]||(e[33]=[r("Название или ссылка",-1)])),_:1,__:[33]},8,["class"])):x("",!0),t(b,{modelValue:a.value.name,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.name=l),placeholder:"Название или ссылка",class:i([a.value.name?"":"outline-1 outline-rose-300",p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":""])},null,8,["modelValue","class"])]),o("div",We,[o("div",Je,[t(g,{class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1 whitespace-nowrap",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[34]||(e[34]=[r("Метры",-1)])),_:1,__:[34]},8,["class"]),o("div",Qe,[t(b,{modelValue:a.value.metrs,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.metrs=l),modelModifiers:{number:!0},placeholder:"Метры",type:"number",min:"0",class:i([a.value.metrs>0?"":"outline-1 outline-rose-300",p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":""])},null,8,["modelValue","class"])])]),o("div",Xe,[t(g,{class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1 whitespace-nowrap",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[35]||(e[35]=[r("Элементы",-1)])),_:1,__:[35]},8,["class"]),o("div",Ye,[t(b,{modelValue:a.value.els,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.els=l),modelModifiers:{number:!0},placeholder:"Элементы",type:"number",min:"0",class:i([a.value.els>0?"":"outline-1 outline-rose-300",p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":""])},null,8,["modelValue","class"])])])]),o("div",Ze,[o("div",et,[t(N,{modelValue:a.value.lightingType,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.lightingType=l)},{default:s(()=>[t(B,{class:i([W.value&&(!a.value.lightingType||a.value.lightingType==="none")?"outline-1 outline-rose-300":"",p.value?"bg-neutral-800 text-neutral-300 border-neutral-500/20":""])},{default:s(()=>[t(R,{placeholder:"Без подсветки"})]),_:1},8,["class"]),t(O,{class:i(p.value?"bg-neutral-800 text-neutral-300":"")},{default:s(()=>[t($,{value:"none"},{default:s(()=>e[36]||(e[36]=[r("Без подсветки",-1)])),_:1,__:[36]}),(f(),U(F,null,q(se,(l,D)=>t(A,{key:D},{default:s(()=>[t($,{value:l},{default:s(()=>[r(k(l),1)]),_:2},1032,["value"])]),_:2},1024)),64))]),_:1},8,["class"])]),_:1},8,["modelValue"])]),a.value.lightingType&&a.value.lightingType!=="none"?(f(),U("div",tt,[o("div",lt,[t(g,{class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1 whitespace-nowrap",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[37]||(e[37]=[r("Метры",-1)])),_:1,__:[37]},8,["class"]),t(b,{modelValue:a.value.lightingLength,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.lightingLength=l),modelModifiers:{number:!0},placeholder:"Метры",type:"number",min:"0",class:i([W.value&&!(a.value.lightingLength??0)?"outline-1 outline-rose-300":"",p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":""])},null,8,["modelValue","class"])]),o("div",at,[t(g,{class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1 whitespace-nowrap",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[38]||(e[38]=[r("Элементы",-1)])),_:1,__:[38]},8,["class"]),t(b,{modelValue:a.value.lightingElements,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.lightingElements=l),modelModifiers:{number:!0},placeholder:"Элементы",type:"number",min:"0",class:i([W.value&&!(a.value.lightingElements??0)?"outline-1 outline-rose-300":"",p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":""])},null,8,["modelValue","class"])])])):x("",!0)]),o("div",st,[["PACKER","MASTER"].includes(n.curUser?.role.shortName||"")?x("",!0):(f(),U("div",nt,[t(g,{class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[39]||(e[39]=[r("Штраф",-1)])),_:1,__:[39]},8,["class"]),t(b,{modelValue:a.value.penaltyCost,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.penaltyCost=l),placeholder:"Штраф",type:"number",class:i(p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":"")},null,8,["modelValue","class"])])),o("div",ot,[t(te,{modelValue:a.value.comment,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.comment=l),placeholder:"Комментарий",class:i(p.value?"bg-neutral-800 text-neutral-300 placeholder:text-neutral-600 border-neutral-500/20":"")},null,8,["modelValue","class"]),a.value.comment?(f(),V(g,{key:0,class:i(["font-medium absolute left-2 top-[-13px] rounded-md p-1 whitespace-nowrap",p.value?"text-neutral-400 bg-neutral-800":"text-slate-400 bg-white"])},{default:s(()=>e[40]||(e[40]=[r(" Комментарий ",-1)])),_:1,__:[40]},8,["class"])):x("",!0)])]),o("div",{class:i(["flex flex-col gap-1 border-t pt-2",p.value?"border-neutral-500/20 text-neutral-300":""])},[(a.value.lightingCost??0)>0?(f(),U("span",ut," Стоимость основной работы: "+k(a.value.cost)+"р. ",1)):x("",!0),(a.value.lightingCost??0)>0?(f(),U("span",it," Стоимость подсветки: "+k(a.value.lightingCost)+"р. ",1)):x("",!0),o("span",rt," Общая стоимость: "+k(oe.value)+"р. ",1)],2)]),o("div",dt,[t(c,{disabled:w.value,class:i(p.value?"bg-neutral-600 text-neutral-300 hover:bg-neutral-600/50":""),onClick:ie},{default:s(()=>[r(k(u.initialData?"Выполнить":"Создать"),1)]),_:1},8,["disabled","class"])])]),_:1}),t(J,{value:"repair"},{default:s(()=>[o("div",mt,[o("div",pt,[d.value.date?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[41]||(e[41]=[r("Дата смены",-1)])),_:1,__:[41]})):x("",!0),t(b,{modelValue:d.value.date,"onUpdate:modelValue":e[11]||(e[11]=l=>d.value.date=l),type:"date",min:new Date().toISOString().slice(0,10),placeholder:"Дата смены",class:i(["h-8",d.value.date?"":"outline-1 outline-rose-300"])},null,8,["modelValue","min","class"])]),o("div",ct,[d.value.type?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1"},{default:s(()=>e[42]||(e[42]=[r("Тип",-1)])),_:1,__:[42]})):x("",!0),o("div",{class:i(d.value.type?"":"outline-1 outline-rose-300 rounded-md")},[t(N,{modelValue:d.value.type,"onUpdate:modelValue":e[12]||(e[12]=l=>d.value.type=l)},{default:s(()=>[t(B,null,{default:s(()=>[t(R,{placeholder:"Тип"})]),_:1}),t(O,null,{default:s(()=>[(f(),U(F,null,q(X,(l,D)=>t(A,{key:D},{default:s(()=>[t($,{value:l},{default:s(()=>[r(k(l),1)]),_:2},1032,["value"])]),_:2},1024)),64))]),_:1})]),_:1},8,["modelValue"])],2)]),o("div",gt,[d.value.name?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1"},{default:s(()=>e[43]||(e[43]=[r("Название или ссылка",-1)])),_:1,__:[43]})):x("",!0),t(b,{modelValue:d.value.name,"onUpdate:modelValue":e[13]||(e[13]=l=>d.value.name=l),placeholder:"Название или ссылка",class:i(["h-8",d.value.name?"":"outline-1 outline-rose-300"])},null,8,["modelValue","class"])]),o("div",vt,[o("div",ft,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[44]||(e[44]=[r("Метры(неон)",-1)])),_:1,__:[44]}),t(b,{modelValue:d.value.metrs,"onUpdate:modelValue":e[14]||(e[14]=l=>d.value.metrs=l),modelModifiers:{number:!0},placeholder:"Метры(неон)",type:"number",min:"0"},null,8,["modelValue"])]),o("div",_t,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[45]||(e[45]=[r("Эл-ты(неон)",-1)])),_:1,__:[45]}),t(b,{modelValue:d.value.els,"onUpdate:modelValue":e[15]||(e[15]=l=>d.value.els=l),modelModifiers:{number:!0},placeholder:"Эл-ты(неон)",type:"number",min:"0"},null,8,["modelValue"])]),o("div",bt,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[46]||(e[46]=[r("Акустика",-1)])),_:1,__:[46]}),t(b,{modelValue:d.value.acoustics,"onUpdate:modelValue":e[16]||(e[16]=l=>d.value.acoustics=l),modelModifiers:{number:!0},placeholder:"Акустика",type:"number",min:"0"},null,8,["modelValue"])])]),o("div",ht,[o("div",xt,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[47]||(e[47]=[r("Распаковка стандарт",-1)])),_:1,__:[47]}),t(b,{modelValue:d.value.unpackage,"onUpdate:modelValue":e[17]||(e[17]=l=>d.value.unpackage=l),modelModifiers:{number:!0},placeholder:"Распаковка стандарт",type:"number",min:"0"},null,8,["modelValue"])]),o("div",yt,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[48]||(e[48]=[r("Распаковка большая",-1)])),_:1,__:[48]}),t(b,{modelValue:d.value.unpackageBig,"onUpdate:modelValue":e[18]||(e[18]=l=>d.value.unpackageBig=l),modelModifiers:{number:!0},placeholder:"Распаковка большая",type:"number",min:"0"},null,8,["modelValue"])])]),o("div",wt,[o("div",Vt,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[49]||(e[49]=[r("Шлифовка",-1)])),_:1,__:[49]}),t(b,{modelValue:d.value.grinding,"onUpdate:modelValue":e[19]||(e[19]=l=>d.value.grinding=l),modelModifiers:{number:!0},placeholder:"Шлифовка",type:"number",min:"0"},null,8,["modelValue"])]),o("div",kt,[t(g,{class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[50]||(e[50]=[r("Смарт контроллер",-1)])),_:1,__:[50]}),t(b,{modelValue:d.value.smartContr,"onUpdate:modelValue":e[20]||(e[20]=l=>d.value.smartContr=l),modelModifiers:{number:!0},placeholder:"Смарт контроллер",type:"number",min:"0"},null,8,["modelValue"])])]),o("span",null," Стоимость: "+k(d.value.cost.toFixed(2))+"р. ",1)]),o("div",Ut,[t(c,{disabled:w.value,onClick:re},{default:s(()=>e[51]||(e[51]=[r(" Создать ",-1)])),_:1,__:[51]},8,["disabled"])])]),_:1}),t(J,{value:"other"},{default:s(()=>[o("div",It,[o("div",Tt,[_.value.date?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[52]||(e[52]=[r("Дата",-1)])),_:1,__:[52]})):x("",!0),t(b,{modelValue:_.value.date,"onUpdate:modelValue":e[21]||(e[21]=l=>_.value.date=l),min:new Date().toISOString().slice(0,10),type:"date",placeholder:"Дата",class:i(["h-8",_.value.date?"":"outline-1 outline-rose-300"])},null,8,["modelValue","min","class"])]),o("div",Dt,[_.value.name?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1"},{default:s(()=>e[53]||(e[53]=[r("Описание",-1)])),_:1,__:[53]})):x("",!0),t(b,{modelValue:_.value.name,"onUpdate:modelValue":e[22]||(e[22]=l=>_.value.name=l),placeholder:"Описание",class:i(["h-8",_.value.name?"":"outline-1 outline-rose-300"])},null,8,["modelValue","class"])]),o("div",Ct,[_.value.cost?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1"},{default:s(()=>e[54]||(e[54]=[r("Стоимость",-1)])),_:1,__:[54]})):x("",!0),t(b,{modelValue:_.value.cost,"onUpdate:modelValue":e[23]||(e[23]=l=>_.value.cost=l),type:"number",placeholder:"Стоимость",class:i(["h-8",_.value.cost?"":"outline-1 outline-rose-300"])},null,8,["modelValue","class"])]),o("div",Et,[t(te,{modelValue:_.value.comment,"onUpdate:modelValue":e[24]||(e[24]=l=>_.value.comment=l),placeholder:"Комментарий"},null,8,["modelValue"]),a.value.comment?(f(),V(g,{key:0,class:"font-medium text-slate-400 absolute left-2 top-[-13px] bg-white rounded-md p-1 whitespace-nowrap"},{default:s(()=>e[55]||(e[55]=[r(" Комментарий ",-1)])),_:1,__:[55]})):x("",!0)]),o("span",null," Стоимость: "+k(_.value.cost)+"р. ",1)]),o("div",St,[t(c,{disabled:w.value,onClick:de},{default:s(()=>e[56]||(e[56]=[r(" Создать ",-1)])),_:1,__:[56]},8,["disabled"])])]),_:1})]),_:1},8,["modelValue"])]),t(pe)]),_:1},8,["class"])]),_:1},8,["open"])])}}});export{Pt as E,Gt as _};
