import{_ as je}from"./Bmr5wyhr.js";import{_ as Ee,a as Oe,b as Re}from"./DfRdkKc3.js";import{_ as Qe,a as qe}from"./iXxKrSbb.js";import{_ as Ye}from"./COO4Wojn.js";import{_ as Je,a as Ke,m as Xe,b as Ze}from"./Czc3ys38.js";import{_ as et,a as tt,b as at,c as st,d as lt}from"./AeDsR3BR.js";import{_ as ot}from"./CCJdEHHg.js";import{_ as nt}from"./BgkA-2sO.js";import{_ as rt,a as it,b as ut}from"./DkMjgWCi.js";import{_ as ct}from"./CY7rJOej.js";import{_ as dt}from"./D_HIMsUe.js";import{_ as mt,a as ft,b as pt}from"./CNLsaPwj.js";import{_ as _t}from"./BCRlC5xu.js";import{_ as yt}from"./fRExJa2e.js";import{_ as vt}from"./CP8umD4q.js";import{_ as gt}from"./BcuVElyA.js";import{a as xt}from"./B5gfxeH_.js";import{_ as bt}from"./Da2JRHOT.js";import{_ as Pt}from"./D8Osd5Ax.js";import{_ as Mt}from"./DkkQ8vn7.js";import{b as wt,c as ht,a as Ft,d as kt,e as St,_ as Dt}from"./Df1Q6CGn.js";import{_ as Tt}from"./C7WYXAp2.js";import{u as c}from"./Dt19OLxm.js";import{Q as $t}from"./DVXwaM75.js";import{g as Ie,e as Ct,u as It,r as _,v as Ut,B as $e,i as Bt,c as p,a as n,b as e,w as t,H as ee,l,D as $,o as m,m as b,F as P,z as M,d as i,t as r,A as Ce}from"./LcRD3ia0.js";import{u as Pe}from"./BRX7moqK.js";import"./D9TSNOAg.js";import"./BdQOAs7V.js";import"./BOGtf0gU.js";import"./QkXyQO2w.js";import"./D5ydJhlK.js";import"./Cxp-zkhu.js";import"./1Y235EgL.js";import"./CACSUplU.js";import"./BXoTK-I8.js";import"./BcyKike4.js";import"./DSl2Rovl.js";import"./B-kig6KZ.js";import"./Pvv-dh1L.js";import"./mqOaxR0N.js";import"./D6LOIvye.js";import"./D8EW8v7U.js";import"./Dbg8U1qb.js";import"./CNFJry-h.js";function Vt(){const{$useApi:Me}=Ie(),g=Pe("groups:list",()=>[]),C=Pe("groups:loading",()=>!1),z=Pe("groups:error",()=>null);return{groups:g,fetchGroups:async(U=!1)=>{if(!U&&g.value.length)return g.value;C.value=!0,z.value=null;try{const{data:S}=await Me.get("commercial-datas/groups");return g.value=S||[],g.value}catch(S){throw console.error("Failed to load groups",S),g.value=[],z.value="Не удалось загрузить список групп",S}finally{C.value=!1}},isGroupsLoading:C,groupsError:z}}const Nt={class:"relative h-screen hidden-scrollbar"},At={class:"w-full fixed z-[11]"},Lt={class:"h-[full] flex p-4 gap-4 mx-[auto] max-w-[2048px] pt-18"},Gt={class:"flex flex-col gap-2 min-w-[1050px] w-full"},zt={class:"flex gap-2"},Wt={class:"w-[180px]"},Ht={key:0,class:"flex items-center"},jt={class:"flex items-center gap-2 rounded-sm px-2 bg-slate-50"},Et={class:"flex gap-2 w-full"},Ot={class:"mt-[-47px]"},Rt={class:"flex flex-col gap-2"},Qt={key:0,class:"flex gap-2 flex-wrap"},qt={class:"flex gap-2 flex-1"},Yt={class:"flex gap-2 flex-1"},Jt={class:"flex gap-1 mb-2"},Kt={class:"flex gap-2"},Xt={class:"min-w-[490px] h-[calc(100vh-90px)]"},Zt={class:"flex w-full justify-between items-center"},ea={class:"flex items-center gap-2"},ta={class:"flex flex-col gap-5"},aa={class:"gap-1 text-gray-600"},sa={class:"flex items-center border-b-1"},la={class:"ml-auto"},oa={class:"flex items-center border-b-1"},na={class:"ml-auto"},ra={class:"text-muted-foreground"},ia={class:"ml-auto"},ua={class:"gap-1 text-gray-600"},ca={class:"text-muted-foreground"},da={class:"flex justify-between items-center mb-2"},ma={class:"gap-1 text-gray-600"},fa={class:"text-muted-foreground mr-auto"},pa={class:"gap-1 text-green-600/80"},_a={class:"ml-auto"},ya={class:"gap-1 text-gray-600"},va={key:0},ga={class:"ml-auto"},xa={class:"text-muted-foreground mr-auto"},ba=["title"],Pa={class:"flex flex-col"},Ma={class:"text-xs text-gray-500"},wa={class:"text-green-600"},ha={class:"text-xs text-gray-500"},Fa={class:"text-green-600"},ka=["title"],Sa=["title"],Da={class:"text-green-600"},Ta={class:"text-xs text-gray-500"},$a={class:"text-green-600"},Ca={class:"flex flex-col gap-8"},Ia=["title"],Ua={class:"flex flex-col"},Ba={class:"text-xs text-gray-500"},Va={class:"text-green-600"},Na={class:"text-xs text-gray-500"},Aa={class:"text-green-600"},La=["title"],Ga=["title"],za={class:"text-green-600"},Wa={class:"text-xs text-gray-500"},Ha={class:"text-green-600"},Us=Ct({__name:"index",setup(Me){const{$useApi:g}=Ie(),{groups:C,fetchGroups:z}=Vt();It({title:"Менеджеры | Easy CRM"});const I=_(new Date().toISOString().slice(0,7)),U=_({month:new Date().getMonth(),year:new Date().getFullYear()}),S=_([{id:0,fullName:"None",workSpace:"None",group:"None",plan:0,totalSales:0,dealSales:0,dopSales:0,temp:0,dealsAmount:0,dopsAmount:0,averageBill:0,drr:0,calls:0,makets:0,maketsDayToDay:0,conversionMaketsToCalls:0,conversionMaketsDayToDayToCalls:0,dealsDayToDay:0,dealsDayToDayPrice:0,conversionDealsToCalls:0,dealsWithoutDesigners:0,dealsSalesWithoutDesigners:0,conversionMaketsToSales:0,redirectToMSG:0,totalSalary:0,pays:0,rem:0,dopPays:0,dealPays:0,bonusPercentage:0,bonus:0,shiftBonus:0,shift:0,dealsInfo:[],dopsInfo:[],topBonus:0,fired:!1,isIntern:!1,dealsInfoPrevMounth:[],dopsInfoPrevMounth:[],salaryPays:[]}]),u=_({id:0,fullName:"None",workSpace:"None",group:"None",plan:0,totalSales:0,dealSales:0,dopSales:0,temp:0,dealsAmount:0,dopsAmount:0,averageBill:0,drr:0,calls:0,makets:0,maketsDayToDay:0,conversionMaketsToCalls:0,conversionMaketsDayToDayToCalls:0,dealsDayToDay:0,dealsDayToDayPrice:0,conversionDealsToCalls:0,dealsWithoutDesigners:0,dealsSalesWithoutDesigners:0,conversionMaketsToSales:0,redirectToMSG:0,totalSalary:0,pays:0,rem:0,dopPays:0,dealPays:0,bonusPercentage:0,bonus:0,shiftBonus:0,shift:0,dealsInfo:[],dopsInfo:[],topBonus:0,fired:!1,isIntern:!1,salaryPays:[],dealsInfoPrevMounth:[],dopsInfoPrevMounth:[]}),we=_([{label:"План",value:"10000"}]),R=_(!1),te=_(),Ue=_([{title:"Сумма продаж",value:"0"}]),w=_(""),W=_([]),Q=_(!1),Be=Ut(()=>Q.value?W.value:W.value.filter(o=>!o.fired)),q=async o=>{const{data:s}=await g.get(`/deals/${o}`);te.value=s,R.value=!0},ae=_([{label:"ДРР ",value:"32"}]),se=_([{label:"ЗП",value:"0"}]),he=_([]),le=_([]),Fe=_([]),ke=_([]),Se=_([]),De=_([]),Ve=async()=>{try{const o=w.value?Number(w.value):void 0,s={period:I.value};o!==void 0&&(s.groupId=o);const{data:v}=await g.get("/commercial-datas",{params:s});return W.value=v||[],W.value.length&&await Te(W.value[0].id),v}catch(o){console.log(o)}},Ne=async()=>{try{const o=w.value?.trim(),s=o?`/commercial-datas/tops/${o}`:"/commercial-datas/tops",{data:v}=await g.get(s,{params:{period:I.value}}),h=v?.vkTop;return le.value=h?.topTotalSales??[],Fe.value=h?.topDopSales??[],ke.value=h?.topDimmerSales??[],Se.value=h?.topSalesWithoutDesigners??[],De.value=h?.topConversionDayToDay??[],he.value=v?.b2bTop??v?.avitoTop??[],v}catch(o){console.log(o)}},Te=async o=>{try{const{data:D}=await g.get(`/commercial-datas/${o}`,{params:{period:I.value}});u.value=D}catch(D){console.log(D)}const{workSpace:s,totalSales:v,dealSales:h,dopSales:oe,temp:ne,dealsAmount:re,dopsAmount:ie,factAmount:ue,fact:ce,factPercentage:de,factBonus:me}=u.value;we.value=[{label:"Общая сумма заказов",value:c(v)+"₽"},{label:"Темп",value:c(ne)+"₽"},{label:`Заказы(${re})`,value:c(h)+"₽"},{label:`Допы(${ie})`,value:c(oe)+"₽"},{label:`Факт(${ue})`,value:c(ce)+"₽"}];const{drr:fe,averageBill:pe,calls:_e,makets:ye,maketsDayToDay:Y,dealsDayToDay:F,dealsDayToDayPrice:J,conversionDealsToCalls:ve,dealsWithoutDesigners:k,dealsSalesWithoutDesigners:T,conversionMaketsToCalls:H,conversionMaketsDayToDayToCalls:j,conversionMaketsToSales:E,redirectToMSG:K}=u.value;ae.value=[{label:"Средний чек",value:c(pe)+"₽"},{label:"ДРР",value:fe+"%"},{label:"Заявки",value:_e},{label:"% из заявки в продажу",value:ve+"%"},{label:"% из заявки в макет",value:H+"%"},{label:"Макеты",value:ye},{label:"% из макета в продажу",value:E+"%"},{label:"Макеты день в день",value:Y},{label:"% из заявки в макет день в день",value:j+"%"},{label:`Продажи день в день(${F})`,value:c(J)+"₽"},{label:`Без дизайнера(${k})`,value:c(T)+"₽"}],s==="B2B"&&ae.value.push({label:"Переходы в мессенджер",value:K});const{totalSalary:V}=u.value,{bonusPercentage:X,bonus:ge,shift:xe,shiftBonus:be,pays:O,dopPays:Z,dealPays:N,topBonus:A,salaryCorrections:y,prevPeriodsDealsPays:x,prevPeriodsDopsPays:L,dopsPercentage:f}=u.value,G=V-O;se.value=[{label:"ЗП",value:c(+V.toFixed(2))+"₽"},{label:"Выплаты",value:c(O)+"₽"},{label:"Остаток",value:c(+G.toFixed(2))+"₽"},{label:`За заказы(${(X*100).toFixed(1)}%)`,value:c(N)+"₽"},{label:s==="B2B"?"За допы(10%)":`За допы(${(f*100).toFixed(1)}%)`,value:c(Z)+"₽"},{label:`С факта(${de}%)`,value:c(me)+"₽"},{label:`Смены(${xe})`,value:c(be)+"₽"},{label:"Премия",value:c(ge)+"₽"},{label:"ТопБонус",value:c(A)+"₽"},{label:"Остатки",value:c(+(x+L).toFixed(2))+"₽"}]},Ae=(o,s)=>{S.value.find(v=>v.id===s).plan=o,u.value.plan=o,S.value=[...S.value]},Le=async o=>{try{await g.delete(`/salary-pay/correction/${o}`),await B()}catch(s){console.log(s)}},Ge=async o=>{try{await g.delete("/salary-pay/"+o),await B()}catch(s){console.log(s)}},ze=async o=>{try{await g.patch(`/managers/${u.value.id}/change-intern-status`,{isIntern:o})}catch(s){u.value.isIntern=!o,console.log(s)}},B=async()=>{await Promise.all([Ve(),Ne()])};$e(w,async()=>{await B()}),$e(U,async o=>{const{month:s,year:v}=o;I.value=new Date(v,s+1).toISOString().slice(0,7),await B()});const We=async o=>{await ze(o)};return Bt(async()=>{const o=await z();if(o.length&&!w.value){w.value=String(o[0].id);return}await B()}),(o,s)=>{const v=je,h=Oe,oe=qe,ne=Ye,re=Qe,ie=Je,ue=Re,ce=Ee,de=at,me=tt,fe=lt,pe=ot,_e=st,ye=et,Y=nt,F=ut,J=it,ve=Ke,k=ct,T=dt,H=_t,j=pt,E=ft,K=yt,V=mt,X=rt,ge=gt,xe=xt,be=Ze,O=bt,Z=Pt,N=Mt,A=Tt,y=kt,x=Ft,L=ht,f=Dt,G=St,D=wt,He=vt;return m(),p("div",Nt,[n("div",At,[e(v,{page:"Менеджеры"})]),n("div",Lt,[e(ce,{open:l(R),"onUpdate:open":s[0]||(s[0]=a=>ee(R)?R.value=a:null)},{default:t(()=>[e(h,{class:"hidden"}),e(ue,{class:"p-0"},{default:t(()=>[e(re,{class:"hidden"},{default:t(()=>[e(oe),e(ne)]),_:1}),(m(),b(ie,{key:l(te).id,deal:l(te)},null,8,["deal"]))]),_:1})]),_:1},8,["open"]),n("div",Gt,[n("div",zt,[n("div",Wt,[e(l($t),{modelValue:l(U),"onUpdate:modelValue":s[1]||(s[1]=a=>ee(U)?U.value=a:null),"month-picker":"","auto-apply":"",locale:"ru","select-text":"Готово","cancel-text":"Закрыть",clearable:!1},null,8,["modelValue"])]),l(C).length?(m(),p("div",Ht,[e(ye,{modelValue:l(w),"onUpdate:modelValue":s[2]||(s[2]=a=>ee(w)?w.value=a:null)},{default:t(()=>[e(me,{class:"w-[220px]"},{default:t(()=>[e(de,{placeholder:"Выберите группу"})]),_:1}),e(_e,null,{default:t(()=>[e(pe,null,{default:t(()=>[(m(!0),p(P,null,M(l(C),a=>(m(),b(fe,{key:a.id,value:String(a.id)},{default:t(()=>[i(r(a.title),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])])):$("",!0),n("div",jt,[s[7]||(s[7]=n("span",{class:"text-sm text-muted-foreground"},"Показать уволенных",-1)),e(Y,{checked:l(Q),"onUpdate:checked":s[3]||(s[3]=a=>ee(Q)?Q.value=a:null)},null,8,["checked"])])]),n("div",Et,[e(X,{"default-value":"table",class:"w-full"},{default:t(()=>[e(J,{class:""},{default:t(()=>[e(F,{value:"table"},{default:t(()=>s[8]||(s[8]=[i("Таблица",-1)])),_:1,__:[8]}),e(F,{value:"top"},{default:t(()=>s[9]||(s[9]=[i("Топ",-1)])),_:1,__:[9]}),e(F,{value:"info"},{default:t(()=>s[10]||(s[10]=[i("Показатели",-1)])),_:1,__:[10]})]),_:1}),e(k,{value:"table"},{default:t(()=>[n("div",Ot,[e(ve,{columns:l(Xe),data:Be.value,"current-manager-id":l(u).id,onManagerClicked:Te},null,8,["columns","data","current-manager-id"])])]),_:1}),e(k,{value:"top"},{default:t(()=>[n("div",Rt,[l(le).length?(m(),p("div",Qt,[n("div",qt,[e(T,{class:"min-w-[300px]",managers:l(le),title:"Топ по выручке",after:"₽"},null,8,["managers"]),e(T,{class:"min-w-[300px]",managers:l(Fe),title:"Топ по доп.продажам",after:"₽"},null,8,["managers"])]),n("div",Yt,[e(T,{class:"min-w-[300px]",managers:l(ke),title:"Топ по диммерам",after:"₽"},null,8,["managers"]),e(T,{class:"min-w-[300px]",managers:l(Se),title:"Топ продаж без дизов",after:"₽"},null,8,["managers"]),e(T,{class:"min-w-[300px]",managers:l(De),title:"Топ конверсия",after:"%"},null,8,["managers"])])])):$("",!0),n("div",Jt,[(m(!0),p(P,null,M(l(he),(a,d)=>(m(),b(V,{key:d,class:"min-w-[150px] grow"},{default:t(()=>[e(E,{class:"p-3 pb-2"},{default:t(()=>[e(H,null,{default:t(()=>[i(r(a.category),1)]),_:2},1024),e(j,{class:"text-3xl font-semibold whitespace-nowrap"},{default:t(()=>[i(r(a.user),1)]),_:2},1024)]),_:2},1024),e(K,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.sales)+(a.category==="Топ конверсия"?"%":"₽")),1)]),_:2},1024)]),_:2},1024))),128))])])]),_:1}),e(k,{value:"info"},{default:t(()=>[n("div",Kt,[(m(!0),p(P,null,M(l(Ue),a=>(m(),b(V,{key:a.title,class:"w-full grow"},{default:t(()=>[e(E,{class:"py-1 px-3"},{default:t(()=>[e(H,null,{default:t(()=>[i(r(a.title),1)]),_:2},1024),e(j,{class:"text-2xl font-semibold whitespace-nowrap"},{default:t(()=>[i(r(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1})])]),n("div",Xt,[e(V,{class:"h-full rounded-md overflow-hidden"},{default:t(()=>[e(E,{class:"bg-gray-100 mb-2 p-3"},{default:t(()=>[e(j,null,{default:t(()=>[i(r(l(u)?.fullName),1)]),_:1}),e(H,null,{default:t(()=>[n("div",Zt,[n("span",null,r(l(u)?.group),1),n("div",ea,[e(ge,null,{default:t(()=>s[11]||(s[11]=[i("Стажер",-1)])),_:1,__:[11]}),e(Y,{checked:l(u).isIntern,"onUpdate:checked":[s[4]||(s[4]=a=>l(u).isIntern=a),We]},null,8,["checked"])])])]),_:1})]),_:1}),e(K,{class:"p-2"},{default:t(()=>[e(X,{"default-value":"info"},{default:t(()=>[e(J,null,{default:t(()=>[e(F,{value:"info"},{default:t(()=>s[12]||(s[12]=[i(" Информация ",-1)])),_:1,__:[12]}),e(F,{value:"deals"},{default:t(()=>s[13]||(s[13]=[i(" Заказы ",-1)])),_:1,__:[13]}),e(F,{value:"dops"},{default:t(()=>s[14]||(s[14]=[i(" Допы ",-1)])),_:1,__:[14]}),e(F,{value:"remainders"},{default:t(()=>s[15]||(s[15]=[i(" Остатки ",-1)])),_:1,__:[15]})]),_:1}),e(k,{value:"info",class:""},{default:t(()=>[e(N,{class:"h-[calc(100vh-250px)] px-5 pb-5"},{default:t(()=>[n("div",ta,[n("div",null,[s[18]||(s[18]=n("div",{class:"font-semibold"},"Основная информация",-1)),n("ul",aa,[n("div",sa,[(m(),b(xe,{key:l(u).id,plan:l(u).plan,period:l(I),"manager-id":l(u).id,manager:l(u).fullName,onIsPlanSet:s[5]||(s[5]=a=>Ae(a,l(u).id))},null,8,["plan","period","manager-id","manager"])),s[16]||(s[16]=n("span",{class:"ml-2"},"План",-1)),n("span",la,r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(l(u).plan)+"₽"),1)]),n("li",oa,[s[17]||(s[17]=n("span",{class:"text-muted-foreground"}," Остаток до плана ",-1)),n("span",na,r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(l(u).plan-l(u).totalSales)+"₽"),1)]),(m(!0),p(P,null,M(l(we),(a,d)=>(m(),p("li",{key:d,class:"flex items-center border-b-1"},[n("span",ra,r(a.label),1),n("span",ia,r(a.value),1)]))),128))])]),n("div",null,[s[19]||(s[19]=n("div",{class:"font-semibold"},"Показатели",-1)),n("ul",ua,[(m(!0),p(P,null,M(l(ae),(a,d)=>(m(),p("li",{key:d,class:"flex items-center justify-between border-b-1"},[n("span",ca,r(a.label),1),n("span",null,r(a.value),1)]))),128))])]),n("div",null,[n("div",da,[s[20]||(s[20]=n("div",{class:"font-semibold"},"Зарплата",-1)),e(be,{"user-id":l(u).id,onCorrectionCreated:s[6]||(s[6]=a=>{B()})},null,8,["user-id"])]),n("ul",ma,[(m(!0),p(P,null,M(l(se).slice(0,3),(a,d)=>(m(),p("li",{key:d,class:"flex items-center w-full"},[n("span",fa,r(a.label),1),n("span",null,r(a.value),1)]))),128))]),e(O,{class:"mb-2"}),n("ul",pa,[(m(!0),p(P,null,M(l(u).salaryPays,a=>(m(),p("li",{key:a.id,class:Ce(["flex font-semibold"])},[e(Z,{class:"h-5 w-5 px-0 mr-1",onClick:d=>Ge(a.id)},{default:t(()=>s[21]||(s[21]=[i(" - ",-1)])),_:2,__:[21]},1032,["onClick"]),s[22]||(s[22]=n("span",null," Выплата ",-1)),n("span",_a,r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.price)+"₽"),1)]))),128))]),n("ul",ya,[(m(!0),p(P,null,M(l(u).salaryCorrections,a=>(m(),p("li",{key:a.id,class:Ce(["flex",a.type==="Прибавка"?"text-green-500":"text-red-500"])},[e(Z,{class:"h-5 w-5 px-0 mr-1",onClick:d=>Le(a.id)},{default:t(()=>s[23]||(s[23]=[i(" - ",-1)])),_:2,__:[23]},1032,["onClick"]),n("span",null,r(a.type),1),a.description?(m(),p("span",va,r("("+a.description+")"),1)):$("",!0),n("span",ga,r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.price)+"₽"),1)],2))),128))]),e(O,{class:"my-1"}),n("ul",null,[(m(!0),p(P,null,M(l(se).slice(3),(a,d)=>(m(),p("li",{key:d,class:"flex items-center w-full"},[n("span",xa,r(a.label),1),n("span",null,r(a.value),1)]))),128))])])])]),_:1})]),_:1}),e(k,{value:"deals"},{default:t(()=>[e(N,{class:"relative h-[calc(100vh-270px)] px-2"},{default:t(()=>[l(u)?.dealsInfo?.length?(m(),b(D,{key:0},{default:t(()=>[e(A),e(L,null,{default:t(()=>[e(x,{class:"bg-gray-100"},{default:t(()=>[e(y,{class:"text-left text-xl w-[160px] max-w-[160px]"},{default:t(()=>s[24]||(s[24]=[i(" Заказы ",-1)])),_:1,__:[24]}),e(y,{class:"text-center"},{default:t(()=>s[25]||(s[25]=[i("Доля",-1)])),_:1,__:[25]}),e(y,{class:"text-center"},{default:t(()=>s[26]||(s[26]=[i("Оплачено",-1)])),_:1,__:[26]}),e(y,{class:"text-center"},{default:t(()=>s[27]||(s[27]=[i("В ЗП",-1)])),_:1,__:[27]})]),_:1})]),_:1}),e(G,null,{default:t(()=>[(m(!0),p(P,null,M(l(u).dealsInfo,(a,d)=>(m(),b(x,{key:d,class:"text-center cursor-pointer",onClick:async()=>await q(a.id)},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[n("span",{class:"block truncate",title:a.title},r(a.title),9,ba)]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[n("div",Pa,[n("span",null,r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.dealerPrice)+"₽"),1),n("span",Ma,[n("span",null,r(a.dealerPart)+"%",1),n("span",null," от "+r(a.dealPrice),1)])])]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.paid)+"₽"),1)]),_:2},1024),e(f,{class:"font-medium flex flex-col"},{default:t(()=>[n("span",wa,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+a.toSalary.toFixed(2))+"₽"),1),n("span",ha,r((a.bonusPercentage*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),e(x,{class:"text-center font-bold bg-zinc-100"},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[s[28]||(s[28]=n("span",null,"ИТОГО",-1)),n("span",null,r("("+l(u).dealsInfo.length+")"),1)]),_:1,__:[28]}),e(f,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(l(u).dealsInfo.reduce((a,d)=>a+d.dealerPrice,0))+"₽"),1)]),_:1}),e(f,{class:"text-center"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dealsInfo.reduce((a,d)=>a+d.paid,0).toFixed(2))+"₽"),1)]),_:1}),e(f,{class:"text-center"},{default:t(()=>[n("span",Fa,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dealsInfo.reduce((a,d)=>a+d.toSalary,0).toFixed(2))+"₽"),1)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}),e(k,{value:"dops"},{default:t(()=>[e(N,{class:"relative h-[calc(100vh-270px)] px-2"},{default:t(()=>[l(u)?.dopsInfo?.length?(m(),b(D,{key:0},{default:t(()=>[e(A),e(L,null,{default:t(()=>[e(x,{class:"bg-gray-100"},{default:t(()=>[e(y,{class:"text-left text-xl w-[160px] max-w-[160px]"},{default:t(()=>s[29]||(s[29]=[i(" Допы ",-1)])),_:1,__:[29]}),e(y,{class:"text-center"},{default:t(()=>s[30]||(s[30]=[i("Стоимость",-1)])),_:1,__:[30]}),e(y,{class:"text-center"},{default:t(()=>s[31]||(s[31]=[i("Оплачено",-1)])),_:1,__:[31]}),e(y,{class:"text-center"},{default:t(()=>s[32]||(s[32]=[i("В ЗП",-1)])),_:1,__:[32]})]),_:1})]),_:1}),e(G,null,{default:t(()=>[(m(!0),p(P,null,M(l(u).dopsInfo,(a,d)=>(m(),b(x,{key:d,class:"text-center cursor-pointer",onClick:async()=>await q(a.dealId)},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[n("span",{class:"block truncate",title:a.dealTitle},r(a.dealTitle),9,ka),n("span",{class:"block text-xs text-gray-500 truncate",title:a.title},r(a.title),9,Sa)]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.dopPrice)+"₽"),1)]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.paid)+"₽"),1)]),_:2},1024),e(f,{class:"font-medium flex flex-col"},{default:t(()=>[n("span",Da,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+a.toSalary.toFixed(2))+"₽"),1),n("span",Ta,r((a.bonusPercentage*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),e(x,{class:"text-center font-bold bg-zinc-100"},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[i(" ИТОГО"+r("("+l(u).dopsInfo.length+")"),1)]),_:1}),e(f,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(l(u).dopsInfo.reduce((a,d)=>a+d.dopPrice,0))+"₽"),1)]),_:1}),e(f,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dopsInfo.reduce((a,d)=>a+d.paid,0).toFixed())+"₽"),1)]),_:1}),e(f,{class:"text-center"},{default:t(()=>[n("span",$a,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dopsInfo.reduce((a,d)=>a+d.toSalary,0).toFixed(2))+"₽"),1)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}),e(k,{value:"remainders"},{default:t(()=>[e(N,{class:"relative h-[calc(100vh-270px)] px-2"},{default:t(()=>[n("div",Ca,[l(u)?.dealsInfoPrevMounth?.length?(m(),b(D,{key:0},{default:t(()=>[e(A),e(L,null,{default:t(()=>[e(x,{class:"bg-gray-100"},{default:t(()=>[e(y,{class:"text-left text-xl w-[160px] max-w-[160px]"},{default:t(()=>s[33]||(s[33]=[i(" Заказы ",-1)])),_:1,__:[33]}),e(y,{class:"text-center"},{default:t(()=>s[34]||(s[34]=[i("Доля",-1)])),_:1,__:[34]}),e(y,{class:"text-center"},{default:t(()=>s[35]||(s[35]=[i("Оплачено",-1)])),_:1,__:[35]}),e(y,{class:"text-center"},{default:t(()=>s[36]||(s[36]=[i("В ЗП",-1)])),_:1,__:[36]})]),_:1})]),_:1}),e(G,null,{default:t(()=>[(m(!0),p(P,null,M(l(u).dealsInfoPrevMounth,(a,d)=>(m(),b(x,{key:d,class:"text-center cursor-pointer items-center",onClick:async()=>await q(a.id)},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[n("span",{class:"block truncate",title:a.title},r(a.title),9,Ia)]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[n("div",Ua,[n("span",null,r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.dealerPrice)+"₽"),1),n("span",Ba,[n("span",null,r(a.dealerPart)+"%",1),n("span",null," от "+r(a.dealPrice),1)])])]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.paid)+"₽"),1)]),_:2},1024),e(f,{class:"font-medium flex flex-col"},{default:t(()=>[n("span",Va,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+a.toSalary.toFixed(2))+"₽"),1),n("span",Na,r((a.bonusPercentage*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),e(x,{class:"text-center font-bold bg-zinc-100"},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[s[37]||(s[37]=n("span",null,"ИТОГО",-1)),n("span",null,r("("+l(u).dealsInfoPrevMounth.length+")"),1)]),_:1,__:[37]}),e(f,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(l(u).dealsInfoPrevMounth.reduce((a,d)=>a+d.dealerPrice,0))+"₽"),1)]),_:1}),e(f,{class:"text-center"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dealsInfoPrevMounth.reduce((a,d)=>a+d.paid,0).toFixed(2))+"₽"),1)]),_:1}),e(f,{class:"text-center"},{default:t(()=>[n("span",Aa,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dealsInfoPrevMounth.reduce((a,d)=>a+d.toSalary,0).toFixed(2))+"₽"),1)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0),l(u)?.dopsInfoPrevMounth?.length?(m(),b(D,{key:1},{default:t(()=>[e(A),e(L,null,{default:t(()=>[e(x,{class:"bg-gray-100"},{default:t(()=>[e(y,{class:"text-left text-xl w-[160px] max-w-[160px]"},{default:t(()=>s[38]||(s[38]=[i(" Допы ",-1)])),_:1,__:[38]}),e(y,{class:"text-center"},{default:t(()=>s[39]||(s[39]=[i("Стоимость",-1)])),_:1,__:[39]}),e(y,{class:"text-center"},{default:t(()=>s[40]||(s[40]=[i("Оплачено",-1)])),_:1,__:[40]}),e(y,{class:"text-center"},{default:t(()=>s[41]||(s[41]=[i("В ЗП",-1)])),_:1,__:[41]})]),_:1})]),_:1}),e(G,null,{default:t(()=>[(m(!0),p(P,null,M(l(u).dopsInfoPrevMounth,(a,d)=>(m(),b(x,{key:d,class:"text-center cursor-pointer",onClick:async()=>await q(a.dealId)},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[n("span",{class:"block truncate",title:a.dealTitle},r(a.dealTitle),9,La),n("span",{class:"block text-xs text-gray-500 truncate",title:a.title},r(a.title),9,Ga)]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.dopPrice)+"₽"),1)]),_:2},1024),e(f,{class:"font-medium"},{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(a.paid)+"₽"),1)]),_:2},1024),e(f,{class:"font-medium flex flex-col"},{default:t(()=>[n("span",za,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+a.toSalary.toFixed(2))+"₽"),1),n("span",Wa,r((a.bonusPercentage*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),e(x,{class:"text-center font-bold bg-zinc-100"},{default:t(()=>[e(f,{class:"text-left w-[160px] max-w-[160px] pr-2"},{default:t(()=>[i(" ИТОГО"+r("("+l(u).dopsInfoPrevMounth.length+")"),1)]),_:1}),e(f,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(l(u).dopsInfoPrevMounth.reduce((a,d)=>a+d.dopPrice,0))+"₽"),1)]),_:1}),e(f,null,{default:t(()=>[i(r(("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dopsInfoPrevMounth.reduce((a,d)=>a+d.paid,0).toFixed())+"₽"),1)]),_:1}),e(f,{class:"text-center"},{default:t(()=>[n("span",Ha,r("+"+("useMyFormatPrice"in o?o.useMyFormatPrice:l(c))(+l(u).dopsInfoPrevMounth.reduce((a,d)=>a+d.toSalary,0).toFixed(2))+"₽"),1)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),e(He)]),_:1})])])])}}});export{Us as default};
