import{t as $,w as z,a as V,i as L,b as C,d as S,e as _,n as J,f as N}from"./s39mgViW.js";import{Q as T,r as F,B as D,v as O,M as p,O as x,l as H,i as P,W as U,Z as g}from"./BbheI0mw.js";const E=C?window:void 0,j=C?window.document:void 0;function b(t){var e;const s=x(t);return(e=s?.$el)!=null?e:s}function B(...t){const e=[],s=()=>{e.forEach(o=>o()),e.length=0},h=(o,u,r,l)=>(o.addEventListener(u,r,l),()=>o.removeEventListener(u,r,l)),a=O(()=>{const o=S(x(t[0])).filter(u=>u!=null);return o.every(u=>typeof u!="string")?o:void 0}),d=z(()=>{var o,u;return[(u=(o=a.value)==null?void 0:o.map(r=>b(r)))!=null?u:[E].filter(r=>r!=null),S(x(a.value?t[1]:t[0])),S(H(a.value?t[2]:t[1])),x(a.value?t[3]:t[2])]},([o,u,r,l])=>{if(s(),!o?.length||!u?.length||!r?.length)return;const n=_(l)?{...l}:l;e.push(...o.flatMap(v=>u.flatMap(i=>r.map(f=>h(v,i,f,n)))))},{flush:"post"}),c=()=>{d(),s()};return V(s),c}function G(){const t=p(!1),e=T();return e&&P(()=>{t.value=!0},e),t}function W(t){const e=G();return O(()=>(e.value,!!t()))}function Q(t){return JSON.parse(JSON.stringify(t))}function Y(t={}){const{document:e=j}=t;if(!e)return p("visible");const s=p(e.visibilityState);return B(e,"visibilitychange",()=>{s.value=e.visibilityState},{passive:!0}),s}function Z(t,e,s={}){const{window:h=E,...a}=s;let d;const c=W(()=>h&&"ResizeObserver"in h),o=()=>{d&&(d.disconnect(),d=void 0)},u=O(()=>{const n=x(t);return Array.isArray(n)?n.map(v=>b(v)):[b(n)]}),r=D(u,n=>{if(o(),c.value&&h){d=new ResizeObserver(e);for(const v of n)v&&d.observe(v,a)}},{immediate:!0,flush:"post"}),l=()=>{o(),r()};return V(l),{isSupported:c,stop:l}}function ee(t,e={width:0,height:0},s={}){const{window:h=E,box:a="content-box"}=s,d=O(()=>{var n,v;return(v=(n=b(t))==null?void 0:n.namespaceURI)==null?void 0:v.includes("svg")}),c=p(e.width),o=p(e.height),{stop:u}=Z(t,([n])=>{const v=a==="border-box"?n.borderBoxSize:a==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(h&&d.value){const i=b(t);if(i){const f=i.getBoundingClientRect();c.value=f.width,o.value=f.height}}else if(v){const i=S(v);c.value=i.reduce((f,{inlineSize:w})=>f+w,0),o.value=i.reduce((f,{blockSize:w})=>f+w,0)}else c.value=n.contentRect.width,o.value=n.contentRect.height},s);$(()=>{const n=b(t);n&&(c.value="offsetWidth"in n?n.offsetWidth:e.width,o.value="offsetHeight"in n?n.offsetHeight:e.height)});const r=D(()=>b(t),n=>{c.value=n?e.width:0,o.value=n?e.height:0});function l(){u(),r()}return{width:c,height:o,stop:l}}function te(t,e,s={}){const{root:h,rootMargin:a="0px",threshold:d=0,window:c=E,immediate:o=!0}=s,u=W(()=>c&&"IntersectionObserver"in c),r=O(()=>{const f=x(t);return S(f).map(b).filter(J)});let l=N;const n=p(o),v=u.value?D(()=>[r.value,b(h),n.value],([f,w])=>{if(l(),!n.value||!f.length)return;const y=new IntersectionObserver(e,{root:b(w),rootMargin:a,threshold:d});f.forEach(M=>M&&y.observe(M)),l=()=>{y.disconnect(),l=N}},{immediate:o,flush:"post"}):N,i=()=>{l(),v(),n.value=!1};return V(i),{isSupported:u,isActive:n,pause(){l(),n.value=!1},resume(){n.value=!0},stop:i}}function q(t={}){const{window:e=E}=t,s=e?.navigator,h=W(()=>s&&"connection"in s),a=p(!0),d=p(!1),c=p(void 0),o=p(void 0),u=p(void 0),r=p(void 0),l=p(void 0),n=p(void 0),v=p("unknown"),i=h.value&&s.connection;function f(){s&&(a.value=s.onLine,c.value=a.value?void 0:Date.now(),o.value=a.value?Date.now():void 0,i&&(u.value=i.downlink,r.value=i.downlinkMax,n.value=i.effectiveType,l.value=i.rtt,d.value=i.saveData,v.value=i.type))}const w={passive:!0};return e&&(B(e,"offline",()=>{a.value=!1,c.value=Date.now()},w),B(e,"online",()=>{a.value=!0,o.value=Date.now()},w)),i&&B(i,"change",f,w),f(),{isSupported:h,isOnline:g(a),saveData:g(d),offlineAt:g(c),onlineAt:g(o),downlink:g(u),downlinkMax:g(r),effectiveType:g(n),rtt:g(l),type:g(v)}}function ne(t={}){const{isOnline:e}=q(t);return e}function oe(t,e,s,h={}){var a,d,c;const{clone:o=!1,passive:u=!1,eventName:r,deep:l=!1,defaultValue:n,shouldEmit:v}=h,i=T(),f=s||i?.emit||((a=i?.$emit)==null?void 0:a.bind(i))||((c=(d=i?.proxy)==null?void 0:d.$emit)==null?void 0:c.bind(i?.proxy));let w=r;w=w||`update:${e.toString()}`;const y=m=>o?typeof o=="function"?o(m):Q(m):m,M=()=>L(t[e])?y(t[e]):n,k=m=>{v?v(m)&&f(w,m):f(w,m)};if(u){const m=M(),I=F(m);let A=!1;return D(()=>t[e],R=>{A||(A=!0,I.value=y(R),U(()=>A=!1))}),D(I,R=>{!A&&(R!==t[e]||l)&&k(R)},{deep:l}),I}else return O({get(){return M()},set(m){k(m)}})}export{oe as a,G as b,te as c,B as d,Y as e,ne as f,ee as u};
