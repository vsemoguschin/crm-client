import{_ as ks}from"./BsJBhgTW.js";import{S as us,W as hs,U as bs,c as ws,q as Ms,H as Us,j as Cs,_ as Bs}from"./D8Osd5Ax.js";import{_ as $s,a as Ts,b as Vs}from"./DfRdkKc3.js";import{_ as As,a as Ss}from"./iXxKrSbb.js";import{_ as Rs}from"./BcuVElyA.js";import{_ as Ds}from"./mqOaxR0N.js";import{_ as Ls,a as zs,b as Ps,c as js,d as Is}from"./AeDsR3BR.js";import{_ as qs,a as Hs,b as Ks}from"./DkMjgWCi.js";import{_ as Ns}from"./CNLsaPwj.js";import{_ as Fs}from"./fRExJa2e.js";import{_ as Os,a as Es,b as Ws,c as Gs,d as Xs}from"./B-kig6KZ.js";import{e as S,m as x,o as u,w as a,n as j,p as K,q as N,l as n,v as H,b as t,x as Js,y as Qs,r as P,i as Ys,c as $,a as e,d as l,F as Z,z as ss,A as es,t as d}from"./LcRD3ia0.js";import{_ as Zs}from"./ub7fZ9kk.js";import{c as k}from"./D5ydJhlK.js";import{C as ts,T as as,a as ls}from"./BzpC6JEa.js";import"./D6LOIvye.js";import"./D8EW8v7U.js";import"./BcyKike4.js";import"./DaWZu8wl.js";/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=k("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=k("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=k("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=k("messages-square",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("mouse-pointer-click",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=k("pencil-ruler",[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=k("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=k("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=k("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=k("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),ne=S({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(b,{emit:h}){const T=us(b,h);return(V,_)=>(u(),x(n(hs),K(N(n(T))),{default:a(()=>[j(V.$slots,"default")]),_:3},16))}}),de=S({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(b,{emit:h}){const y=b,w=h,T=H(()=>{const{class:_,...c}=y;return c}),V=us(T,w);return(_,c)=>(u(),x(n(Ms),null,{default:a(()=>[t(n(bs),Js({...n(V),..._.$attrs},{class:n(ws)("z-50 overflow-hidden rounded-md border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-950 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",y.class)}),{default:a(()=>[j(_.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ie=S({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(b){const h=b;return(y,w)=>(u(),x(n(Us),K(N(h)),{default:a(()=>[j(y.$slots,"default")]),_:3},16))}}),ue=S({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(b){const h=b;return(y,w)=>(u(),x(n(Cs),K(N(h)),{default:a(()=>[j(y.$slots,"default")]),_:3},16))}}),ce={class:"min-h-screen w-full bg-gradient-to-b from-slate-50 to-white p-4 md:p-8"},re={class:"flex items-center justify-between mb-6"},me={class:"flex items-center gap-3"},pe={class:"flex items-center gap-2"},_e={class:"mt-4 space-y-6"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ve={class:"grid grid-cols-2 gap-4"},xe={class:"flex justify-end gap-2"},ge={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ye={class:"p-4 flex items-center justify-between"},ke={class:"overflow-auto"},he={class:"w-full text-sm"},be=["onClick"],we={class:"px-4 py-3"},Me={class:"px-4 py-3"},Ue={class:"font-medium"},Ce={class:"text-xs text-muted-foreground"},Be={class:"px-4 py-3"},$e={class:"px-4 py-3"},Te={class:"px-4 py-3"},Ve={class:"px-4 py-3"},Ae={class:"px-4 py-3"},Se={class:"px-4 py-3"},Re={key:0,class:"p-4 space-y-4"},De={class:"flex items-start justify-between"},Le={class:"text-lg font-semibold"},ze={class:"grid grid-cols-2 gap-3"},Pe={class:"flex items-center justify-between"},je={class:"text-sm text-muted-foreground flex items-center gap-2"},Ie={class:"text-xl font-semibold"},qe={class:"flex items-center justify-between"},He={class:"text-sm text-muted-foreground flex items-center gap-2"},Ke={class:"text-xl font-semibold"},Ne={class:"flex items-center justify-between"},Fe={class:"text-sm text-muted-foreground flex items-center gap-2"},Oe={class:"text-xl font-semibold"},Ee={class:"flex items-center justify-between"},We={class:"text-sm text-muted-foreground flex items-center gap-2"},Ge={class:"text-xl font-semibold"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Je={class:"flex items-center justify-between"},Qe={class:"font-medium"},Ye={class:"text-xs text-muted-foreground mt-1"},Ze={key:1,class:"p-6 text-muted-foreground"},st={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},et={class:"flex items-center justify-between"},tt={class:"text-sm text-muted-foreground flex items-center gap-2"},at={class:"text-xl font-semibold"},lt={class:"flex items-center justify-between"},ot={class:"text-sm text-muted-foreground flex items-center gap-2"},nt={class:"text-xl font-semibold"},dt={class:"flex items-center justify-between"},it={class:"text-sm text-muted-foreground flex items-center gap-2"},ut={class:"text-xl font-semibold"},ct={class:"flex items-center justify-between"},rt={class:"text-sm text-muted-foreground flex items-center gap-2"},mt={class:"text-xl font-semibold"},pt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Dt=S({__name:"bs",setup(b){function h(p=14){const s=[];let i=15e3,m=20,C=8;for(let g=p-1;g>=0;g--)i+=Math.round((Math.random()-.4)*3e3),m+=Math.round((Math.random()-.5)*6),C+=Math.round((Math.random()-.5)*3),s.push({day:new Date(Date.now()-g*24*3600*1e3).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"}),spend:Math.max(1e3,i),leads:Math.max(0,m),mockups:Math.max(0,C)});return s}const y=[{id:"cmp_1",name:"перезапуск городов женщины",status:"active",dailyBudget:1e4,spent:67336.86,impressions:112345,clicks:9550,leads:955,mockups:236,cpm:121.33,cpc:7.05,cpl:70.51,cpmk:285.23,resultLabel:"Отправка сообщений"},{id:"cmp_2",name:"перезапуск городов Мужики only",status:"active",dailyBudget:8e3,spent:60648.98,impressions:98212,clicks:9260,leads:926,mockups:201,cpm:115.46,cpc:6.18,cpl:65.5,cpmk:301.74,resultLabel:"Отправка сообщений"},{id:"cmp_3",name:"Регионы Жен Ч1",status:"active",dailyBudget:1e4,spent:60787.63,impressions:80123,clicks:5010,leads:501,mockups:129,cpm:153.42,cpc:9.12,cpl:121.33,cpmk:471.46,resultLabel:"Отправка сообщений"},{id:"cmp_4",name:"НОВОЕ ДЫХАНИЕ Авто",status:"paused",dailyBudget:5e3,spent:33876.79,impressions:50231,clicks:2350,leads:235,mockups:83,cpm:141.87,cpc:14.41,cpl:144.87,cpmk:408.16,resultLabel:"Отправка сообщений"}],w=h(14);async function T(p){return await new Promise(s=>setTimeout(s,600)),y}async function V(p){await new Promise(i=>setTimeout(i,300));const s={};for(const i of y)s[i.id]=i.mockups;return s}const _=p=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(p),c=Qs({vkAccessToken:"",vkAdAccountId:"",crmBaseUrl:"",crmToken:"",currency:"RUB",dateRange:"last_14d"}),R=P(!1),U=P([]),r=P(null),D=P("all"),L=H(()=>{const p=U.value.reduce((g,M)=>g+M.spent,0),s=U.value.reduce((g,M)=>g+M.leads,0),i=U.value.reduce((g,M)=>g+M.mockups,0),m=s?Math.round(p/s):0,C=i?Math.round(p/i):0;return{spend:p,leads:s,mockups:i,cpl:m,cpmk:C}}),cs=H(()=>D.value==="all"?U.value:U.value.filter(p=>p.status===D.value));async function I(){R.value=!0;try{const[p,s]=await Promise.all([T(c),V(c)]),i=p.map(m=>({...m,mockups:s[m.id]??m.mockups,cpmk:m.spent/Math.max(1,s[m.id]??m.mockups)}));U.value=i,!r.value&&i.length&&(r.value=i[0])}finally{R.value=!1}}return Ys(()=>{I()}),(p,s)=>{const i=ks,m=Bs,C=Ts,g=Ss,M=As,B=Rs,z=Ds,F=Ps,O=zs,A=Is,E=js,W=Ls,rs=Vs,ms=$s,q=Ks,ps=Hs,_s=qs,f=Fs,v=Ns,fs=Es,vs=Xs,xs=Gs,gs=Ws,ys=Os,G=ue,X=de,J=ne,Q=ie,Y=Zs;return u(),$("div",ce,[e("header",re,[e("div",me,[t(n(le),{class:"w-6 h-6"}),s[8]||(s[8]=e("h1",{class:"text-2xl md:text-3xl font-bold tracking-tight"}," VK Ads × CRM — Easyneon ",-1)),t(i,{variant:"secondary",class:"rounded-full"},{default:a(()=>s[7]||(s[7]=[l("Prototype",-1)])),_:1,__:[7]})]),e("div",pe,[t(m,{variant:"outline",onClick:I,disabled:R.value},{default:a(()=>[R.value?(u(),x(n(se),{key:0,class:"w-4 h-4 animate-spin"})):(u(),x(n(ae),{key:1,class:"w-4 h-4"})),s[9]||(s[9]=e("span",{class:"ml-2 hidden md:inline"},"Синхронизировать",-1))]),_:1,__:[9]},8,["disabled"]),t(ms,null,{default:a(()=>[t(C,{"as-child":""},{default:a(()=>[t(m,{variant:"default"},{default:a(()=>[t(n(oe),{class:"w-4 h-4"}),s[10]||(s[10]=e("span",{class:"ml-2 hidden md:inline"},"Настройки",-1))]),_:1,__:[10]})]),_:1}),t(rs,{side:"right",class:"w-full sm:w-[480px]"},{default:a(()=>[t(M,null,{default:a(()=>[t(g,null,{default:a(()=>s[11]||(s[11]=[l("Интеграции и доступы",-1)])),_:1,__:[11]})]),_:1}),e("div",_e,[e("div",null,[t(B,null,{default:a(()=>s[12]||(s[12]=[l("VK Ads Access Token",-1)])),_:1,__:[12]}),t(z,{modelValue:c.vkAccessToken,"onUpdate:modelValue":s[0]||(s[0]=o=>c.vkAccessToken=o),placeholder:"vk1.a.xxxxx"},null,8,["modelValue"])]),e("div",null,[t(B,null,{default:a(()=>s[13]||(s[13]=[l("VK Ads Account ID",-1)])),_:1,__:[13]}),t(z,{modelValue:c.vkAdAccountId,"onUpdate:modelValue":s[1]||(s[1]=o=>c.vkAdAccountId=o),placeholder:"изинеон-6181 / 160000001"},null,8,["modelValue"])]),e("div",fe,[e("div",null,[t(B,null,{default:a(()=>s[14]||(s[14]=[l("CRM Base URL",-1)])),_:1,__:[14]}),t(z,{modelValue:c.crmBaseUrl,"onUpdate:modelValue":s[2]||(s[2]=o=>c.crmBaseUrl=o),placeholder:"https://crm.easyneon.ru"},null,8,["modelValue"])]),e("div",null,[t(B,null,{default:a(()=>s[15]||(s[15]=[l("CRM Token",-1)])),_:1,__:[15]}),t(z,{modelValue:c.crmToken,"onUpdate:modelValue":s[3]||(s[3]=o=>c.crmToken=o),placeholder:"secret_***"},null,8,["modelValue"])])]),e("div",ve,[e("div",null,[t(B,null,{default:a(()=>s[16]||(s[16]=[l("Валюта",-1)])),_:1,__:[16]}),t(W,{modelValue:c.currency,"onUpdate:modelValue":s[4]||(s[4]=o=>c.currency=o)},{default:a(()=>[t(O,null,{default:a(()=>[t(F)]),_:1}),t(E,null,{default:a(()=>[t(A,{value:"RUB"},{default:a(()=>s[17]||(s[17]=[l("RUB",-1)])),_:1,__:[17]}),t(A,{value:"USD"},{default:a(()=>s[18]||(s[18]=[l("USD",-1)])),_:1,__:[18]})]),_:1})]),_:1},8,["modelValue"])]),e("div",null,[t(B,null,{default:a(()=>s[19]||(s[19]=[l("Период",-1)])),_:1,__:[19]}),t(W,{modelValue:c.dateRange,"onUpdate:modelValue":s[5]||(s[5]=o=>c.dateRange=o)},{default:a(()=>[t(O,null,{default:a(()=>[t(F)]),_:1}),t(E,null,{default:a(()=>[t(A,{value:"last_7d"},{default:a(()=>s[20]||(s[20]=[l("Последние 7 дней",-1)])),_:1,__:[20]}),t(A,{value:"last_14d"},{default:a(()=>s[21]||(s[21]=[l("Последние 14 дней",-1)])),_:1,__:[21]}),t(A,{value:"last_30d"},{default:a(()=>s[22]||(s[22]=[l("Последние 30 дней",-1)])),_:1,__:[22]})]),_:1})]),_:1},8,["modelValue"])])]),e("div",xe,[t(m,{onClick:I},{default:a(()=>s[23]||(s[23]=[l("Сохранить и синк",-1)])),_:1,__:[23]})]),s[24]||(s[24]=e("div",{class:"text-xs text-muted-foreground"},[e("p",{class:"mb-2"},"Как это подключить к реальным данным:"),e("ol",{class:"list-decimal ml-4 space-y-1"},[e("li",null,[l(" Замените "),e("code",null,"fetchCampaigns"),l(" на вызовы VK Ads API ("),e("code",null,"ads.getCampaigns"),l(", "),e("code",null,"ads.getStatistics"),l("), используя введённый токен и ID аккаунта. ")]),e("li",null,[l(" Замените "),e("code",null,"fetchCrmMockupsByCampaign"),l(" на ваш CRM эндпоинт, который возвращает количество макетов по "),e("code",null,"campaign_id"),l(" за выбранный период. ")]),e("li",null,[l(" При мердже рассчёт «стоимости макета» = "),e("code",null,"spent / mockups"),l(". ")])])],-1))])]),_:1})]),_:1})])]),e("div",ge,[t(v,{class:"lg:col-span-2 rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-0"},{default:a(()=>[e("div",ye,[s[28]||(s[28]=e("div",{class:"text-base font-semibold"},"Кампании",-1)),t(_s,{value:D.value,"onUpdate:value":s[6]||(s[6]=o=>D.value=o),class:"min-w-[260px]"},{default:a(()=>[t(ps,null,{default:a(()=>[t(q,{value:"all"},{default:a(()=>s[25]||(s[25]=[l("Все",-1)])),_:1,__:[25]}),t(q,{value:"active"},{default:a(()=>s[26]||(s[26]=[l("Активные",-1)])),_:1,__:[26]}),t(q,{value:"paused"},{default:a(()=>s[27]||(s[27]=[l("Пауза",-1)])),_:1,__:[27]})]),_:1})]),_:1},8,["value"])]),e("div",ke,[e("table",he,[s[29]||(s[29]=e("thead",{class:"sticky top-0 bg-white border-y"},[e("tr",{class:"text-left"},[e("th",{class:"px-4 py-2"},"Статус"),e("th",{class:"px-4 py-2"},"Название"),e("th",{class:"px-4 py-2"},"Бюджет/день"),e("th",{class:"px-4 py-2"},"Потрачено"),e("th",{class:"px-4 py-2"},"Лиды"),e("th",{class:"px-4 py-2"},"Макеты"),e("th",{class:"px-4 py-2"},"CPL"),e("th",{class:"px-4 py-2"},"Цена макета")])],-1)),e("tbody",null,[(u(!0),$(Z,null,ss(cs.value,o=>(u(),$("tr",{key:o.id,class:"border-b hover:bg-slate-50 cursor-pointer",onClick:_t=>r.value=o},[e("td",we,[e("span",{class:es(["inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs text-white",{"bg-emerald-500":o.status==="active","bg-amber-500":o.status==="paused","bg-rose-500":o.status==="stopped"}])},[o.status==="active"?(u(),x(n(ts),{key:0,class:"w-3 h-3"})):o.status==="paused"?(u(),x(n(as),{key:1,class:"w-3 h-3"})):(u(),x(n(ls),{key:2,class:"w-3 h-3"})),l(" "+d(o.status==="active"?"Активна":o.status==="paused"?"Пауза":"Остановлена"),1)],2)]),e("td",Me,[e("div",Ue,d(o.name),1),e("div",Ce,d(o.resultLabel),1)]),e("td",Be,d(_(o.dailyBudget)),1),e("td",$e,d(_(o.spent)),1),e("td",Te,d(o.leads),1),e("td",Ve,d(o.mockups),1),e("td",Ae,d(_(o.cpl)),1),e("td",Se,d(_(Math.round(o.cpmk))),1)],8,be))),128))])])])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-0"},{default:a(()=>[r.value?(u(),$("div",Re,[e("div",De,[e("div",null,[s[30]||(s[30]=e("div",{class:"text-sm text-muted-foreground"},"Кампания",-1)),e("div",Le,d(r.value?.name),1)]),e("span",{class:es(["inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs text-white",{"bg-emerald-500":r.value?.status==="active","bg-amber-500":r.value?.status==="paused","bg-rose-500":r.value?.status==="stopped"}])},[r.value?.status==="active"?(u(),x(n(ts),{key:0,class:"w-3 h-3"})):r.value?.status==="paused"?(u(),x(n(as),{key:1,class:"w-3 h-3"})):(u(),x(n(ls),{key:2,class:"w-3 h-3"})),l(" "+d(r.value?.status==="active"?"Активна":r.value?.status==="paused"?"Пауза":"Остановлена"),1)],2)]),e("div",ze,[t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",Pe,[e("div",je,[t(n(is),{class:"w-4 h-4"}),s[31]||(s[31]=l(" Расход ",-1))]),e("div",Ie,d(_(r.value.spent)),1)])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",qe,[e("div",He,[t(n(ee),{class:"w-4 h-4"}),s[32]||(s[32]=l(" Лиды ",-1))]),e("div",Ke,d(r.value.leads),1)])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",Ne,[e("div",Fe,[t(n(ds),{class:"w-4 h-4"}),s[33]||(s[33]=l(" Макеты ",-1))]),e("div",Oe,d(r.value.mockups),1)])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",Ee,[e("div",We,[t(n(os),{class:"w-4 h-4"}),s[34]||(s[34]=l(" Цена макета ",-1))]),e("div",Ge,d(_(Math.round(r.value.cpmk))),1)])]),_:1})]),_:1})]),t(ys,null,{default:a(()=>[t(fs,{"as-child":""},{default:a(()=>[t(m,{variant:"outline",class:"w-full"},{default:a(()=>s[35]||(s[35]=[l("Показать лиды из CRM",-1)])),_:1,__:[35]})]),_:1}),t(gs,{class:"max-w-2xl"},{default:a(()=>[t(xs,null,{default:a(()=>[t(vs,null,{default:a(()=>s[36]||(s[36]=[l("Лиды (mock)",-1)])),_:1,__:[36]})]),_:1}),e("div",Xe,[(u(),$(Z,null,ss(8,o=>t(v,{key:o,class:"rounded-xl"},{default:a(()=>[t(f,{class:"p-3"},{default:a(()=>[e("div",Je,[e("div",Qe,"Лид #"+d(o),1),t(i,{variant:o%3===1?"default":"secondary"},{default:a(()=>[l(d(o%3===1?"Макет готов":"В работе"),1)]),_:2},1032,["variant"])]),e("div",Ye," @vk_user_"+d(o+11),1),s[37]||(s[37]=e("div",{class:"text-xs mt-2"}," Комментарий менеджера: ожидание утверждения макета. ",-1))]),_:2,__:[37]},1024)]),_:2},1024)),64))])]),_:1})]),_:1})])):(u(),$("div",Ze," Выберите кампанию слева "))]),_:1})]),_:1})]),e("div",st,[t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",et,[e("div",tt,[t(n(is),{class:"w-4 h-4"}),s[38]||(s[38]=l(" Расход (Период) ",-1))]),e("div",at,d(_(L.value.spend)),1)])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",lt,[e("div",ot,[t(n(te),{class:"w-4 h-4"}),s[39]||(s[39]=l(" Лиды ",-1))]),e("div",nt,d(L.value.leads),1)])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",dt,[e("div",it,[t(n(ds),{class:"w-4 h-4"}),s[41]||(s[41]=l(" Макеты ",-1)),t(Q,null,{default:a(()=>[t(J,null,{default:a(()=>[t(G,null,{default:a(()=>[t(n(ns),{class:"w-4 h-4"})]),_:1}),t(X,{class:"max-w-xs text-xs"},{default:a(()=>s[40]||(s[40]=[l(" Количество подтверждённых дизайнов в CRM ",-1)])),_:1,__:[40]})]),_:1})]),_:1})]),e("div",ut,d(L.value.mockups),1)])]),_:1})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[e("div",ct,[e("div",rt,[t(n(os),{class:"w-4 h-4"}),s[43]||(s[43]=l(" Цена макета ",-1)),t(Q,null,{default:a(()=>[t(J,null,{default:a(()=>[t(G,null,{default:a(()=>[t(n(ns),{class:"w-4 h-4"})]),_:1}),t(X,{class:"max-w-xs text-xs"},{default:a(()=>s[42]||(s[42]=[l("Расход / Макеты",-1)])),_:1,__:[42]})]),_:1})]),_:1})]),e("div",mt,d(_(L.value.cpmk)),1)])]),_:1})]),_:1})]),e("div",pt,[t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[s[44]||(s[44]=e("div",{class:"text-sm text-muted-foreground mb-2"},"Расход по дням",-1)),t(Y,{data:n(w),categories:["spend"],index:"day"},null,8,["data"])]),_:1,__:[44]})]),_:1}),t(v,{class:"rounded-2xl shadow-sm"},{default:a(()=>[t(f,{class:"p-4"},{default:a(()=>[s[45]||(s[45]=e("div",{class:"text-sm text-muted-foreground mb-2"},"Лиды и Макеты",-1)),t(Y,{data:n(w),categories:["leads","mockups"],index:"day"},null,8,["data"])]),_:1,__:[45]})]),_:1})]),s[46]||(s[46]=e("div",{class:"mt-10 text-xs text-muted-foreground"},[e("p",null," Этот прототип работает на мок-данных. Для продакшена добавьте backend прокси (Node/Express или FastAPI), чтобы безопасно вызывать VK Ads API и вашу CRM с серверной стороны. Я подготовлю серверные эндпоинты по запросу. ")],-1))])}}});export{Dt as default};
