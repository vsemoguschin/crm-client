import{_ as le}from"./Bye7C16d.js";import{_ as oe}from"./CprHmdOe.js";import{_ as re,a as ne,b as ce}from"./BF3m7Vf0.js";import{_ as ie}from"./C8Hj2bae.js";import{_ as ue}from"./D0zfKHPR.js";import{_ as ge,a as de}from"./l1eRtAXP.js";import{_ as pe}from"./BhleEUCu.js";import{_ as me}from"./BND4UK_1.js";import{_ as l}from"./CDst0A0O.js";import{b as L,_ as A,a as W}from"./DAmwS8V7.js";import{_ as j}from"./DImM_Wqr.js";import{b as z,c as E,d as q,e as G,_ as O,a as J}from"./C6vK2VYI.js";import{v as T}from"./B9M8ggfK.js";import{u as Q,g as X,a as Y,b as Z,F as R}from"./lvbecDJM.js";import{C as ee}from"./CJOOd8Dx.js";import{e as F,r as h,c as m,o as r,F as x,a as _,b as s,w as a,d as B,l as n,z as $,t as M,m as w,D as te,G as t,g as se,i as ae,u as _e,H as fe}from"./BbheI0mw.js";import{u as V}from"./Dt19OLxm.js";import{A as o}from"./Boz4PYjF.js";import{_ as he}from"./BHM8gn75.js";import"./D0Fd2yXn.js";import"./oLxPQbNe.js";import"./D2GZmoDz.js";import"./CaPtdwNj.js";import"./DVdymwQ5.js";import"./KSX9JOtw.js";import"./ZTyVILcU.js";import"./s39mgViW.js";import"./BR3DQNok.js";import"./odSmgr3d.js";import"./DzJc7hp_.js";import"./CCknexPU.js";import"./CssJESp-.js";import"./_14b2CUj.js";import"./CaiudRgb.js";const ve={class:"flex mb-2 justify-between"},we={class:"bg-slate-100"},Se=F({__name:"DataTable",props:{columns:{},data:{}},setup(e){const u=e,y=h([]),p=h([]),S=h({}),f=Q({get data(){return u.data},get columns(){return u.columns},getCoreRowModel:Z(),getSortedRowModel:Y(),getFilteredRowModel:X(),onSortingChange:i=>T(i,y),onColumnFiltersChange:i=>T(i,p),onColumnVisibilityChange:i=>T(i,S),state:{get sorting(){return y.value},get columnFilters(){return p.value},get columnVisibility(){return S.value}}});return(i,g)=>{const N=l,C=A,D=j,v=W,U=L,k=q,b=J,I=E,K=O,P=G,H=z;return r(),m(x,null,[_("div",ve,[_("div",null,[s(U,null,{default:a(()=>[s(C,null,{default:a(()=>[s(N,{variant:"outline",class:"ml-auto"},{default:a(()=>[g[0]||(g[0]=B(" Колонки ",-1)),s(n(ee),{class:"w-4 h-4 ml-2"})]),_:1,__:[0]})]),_:1}),s(v,{class:"w-[180px]"},{default:a(()=>[(r(!0),m(x,null,$(n(f).getAllColumns().filter(c=>c.getCanHide()),c=>(r(),m("div",{key:c.id},[s(D,{checked:c.getIsVisible(),"onUpdate:checked":d=>c.toggleVisibility(!!d)},null,8,["checked","onUpdate:checked"]),B(" "+M(c.columnDef.ruName),1)]))),128))]),_:1})]),_:1})])]),_("div",we,[s(H,null,{default:a(()=>[s(I,{class:"bg-white"},{default:a(()=>[(r(!0),m(x,null,$(n(f).getHeaderGroups(),c=>(r(),w(b,{key:c.id},{default:a(()=>[(r(!0),m(x,null,$(c.headers,d=>(r(),w(k,{key:d.id},{default:a(()=>[d.isPlaceholder?te("",!0):(r(),w(n(R),{key:0,render:d.column.columnDef.header,props:d.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),s(P,null,{default:a(()=>[n(f).getRowModel().rows?.length?(r(!0),m(x,{key:0},$(n(f).getRowModel().rows,c=>(r(),w(b,{key:c.id},{default:a(()=>[(r(!0),m(x,null,$(c.getVisibleCells(),d=>(r(),w(K,{key:d.id},{default:a(()=>[s(n(R),{render:d.column.columnDef.cell,props:d.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1024))),128)):(r(),w(b,{key:1},{default:a(()=>[s(K,{colspan:i.columns.length,class:"text-left"},{default:a(()=>g[1]||(g[1]=[B("Нет результатов.",-1)])),_:1,__:[1]},8,["colspan"])]),_:1}))]),_:1})]),_:1})])],64)}}}),xe=[{accessorKey:"manager",ruName:"Менеджер",enableHiding:!1,header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Менеджер",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-left pl-4 whitespace-nowrap"},`${e.original.manager} ${e.original.fired?"(Уволен)":""}`),filterFn:(e,u,y)=>y.includes(e.getValue(u))},{accessorKey:"totalSalary",ruName:"ЗП",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["ЗП",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("totalSalary"))+"₽")},{accessorKey:"pays",ruName:"Выплаты",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Выплаты",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("pays")+"₽")},{accessorKey:"rem",ruName:"Остаток",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Остаток",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("rem")+"₽")},{accessorKey:"payments",ruName:"ФАКТ",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["ФАКТ",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("payments")+"₽")},{accessorKey:"bonusPercentage",ruName:"% с продаж",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["% с продаж",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("bonusPercentage")+"%")},{accessorKey:"dopBonus",ruName:"с допов(₽)",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["с допов(₽)",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("dopBonus"))+"₽")},{accessorKey:"bonus",ruName:"Премия",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Премия",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("bonus"))+"₽")},{accessorKey:"topBonus",ruName:"Топ бонус",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Топ бонус",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("topBonus")+"₽")},{accessorKey:"totalSales",ruName:"Продажи",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Продажи",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("totalSales"))+"₽")},{accessorKey:"dealSales",ruName:"Сделки",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Сделки",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("dealSales"))+"₽")},{accessorKey:"dopSales",ruName:"Допы",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Допы",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("dopSales"))+"₽")},{accessorKey:"conversion",ruName:"Конверсия",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Конверсия",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},`${e.getValue("conversion")}%`)},{accessorKey:"averageBill",ruName:"Средний чек",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Средний чек",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("averageBill"))+"₽")},{accessorKey:"shift",ruName:"Количество смен",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full text-wrap"},()=>["Количество смен",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("shift"))}],ye={class:"flex flex-col gap-2"},Ce={class:"flex gap-1 mb-2"},ke=F({__name:"Content",props:{period:{}},setup(e){const{$useApi:u}=se(),p=h(e.period),S=h([{id:1,manager:"Иван Иванов",totalSalary:1e5,salesBonus:2e4,dopBonus:5e3,bonus:1e4,totalSales:5e5,dealSales:3e5,dopSales:2e5,conversion:15,averageBill:5e3},{id:2,manager:"Петр Петров",totalSalary:12e4,salesBonus:25e3,dopBonus:6e3,bonus:12e3,totalSales:6e5,dealSales:4e5,dopSales:2e5,conversion:18,averageBill:6e3}]),f=h([{user:"Иванов Иван",category:"Топ суммы заказов",sales:2e3},{user:"Иванов Иван",category:"Топ суммы допов",sales:2e3},{user:"Иванов Иван",category:"Топ средний чек",sales:2e3},{user:"Иванов Иван",category:"Топ конверсия",sales:2e3}]);return ae(async()=>{const{data:g}=await u.get("salaries/mop/avito",{params:{period:p.value}});S.value=g.userData,f.value=g.topList,console.log(g)}),(g,N)=>{const C=pe,D=de,v=ge,U=me,k=ue,b=Se;return r(),m("div",ye,[_("div",null,[_("div",Ce,[(r(!0),m(x,null,$(n(f),(I,K)=>(r(),w(k,{key:K,class:"min-w-[150px] grow"},{default:a(()=>[s(v,{class:"p-3 pb-2"},{default:a(()=>[s(C,null,{default:a(()=>[B(M(I.category),1)]),_:2},1024),s(D,{class:"text-3xl font-semibold whitespace-nowrap"},{default:a(()=>[B(M(I.user),1)]),_:2},1024)]),_:2},1024),s(U,null,{default:a(()=>[B(M(("useMyFormatPrice"in g?g.useMyFormatPrice:n(V))(I.sales)+(I.category==="Топ конверсия"?"%":"₽")),1)]),_:2},1024)]),_:2},1024))),128))])]),_("div",null,[s(b,{columns:n(xe),data:n(S)},null,8,["columns","data"])])])}}}),be={class:"flex mb-2 justify-between"},Ve={class:"bg-slate-100"},$e=F({__name:"DataTable",props:{columns:{},data:{}},setup(e){const u=e,y=h([]),p=h([]),S=h({}),f=Q({get data(){return u.data},get columns(){return u.columns},getCoreRowModel:Z(),getSortedRowModel:Y(),getFilteredRowModel:X(),onSortingChange:i=>T(i,y),onColumnFiltersChange:i=>T(i,p),onColumnVisibilityChange:i=>T(i,S),state:{get sorting(){return y.value},get columnFilters(){return p.value},get columnVisibility(){return S.value}}});return(i,g)=>{const N=l,C=A,D=j,v=W,U=L,k=q,b=J,I=E,K=O,P=G,H=z;return r(),m(x,null,[_("div",be,[_("div",null,[s(U,null,{default:a(()=>[s(C,null,{default:a(()=>[s(N,{variant:"outline",class:"ml-auto"},{default:a(()=>[g[0]||(g[0]=B(" Колонки ",-1)),s(n(ee),{class:"w-4 h-4 ml-2"})]),_:1,__:[0]})]),_:1}),s(v,{class:"w-[180px]"},{default:a(()=>[(r(!0),m(x,null,$(n(f).getAllColumns().filter(c=>c.getCanHide()),c=>(r(),m("div",{key:c.id},[s(D,{checked:c.getIsVisible(),"onUpdate:checked":d=>c.toggleVisibility(!!d)},null,8,["checked","onUpdate:checked"]),B(" "+M(c.columnDef.ruName),1)]))),128))]),_:1})]),_:1})])]),_("div",Ve,[s(H,null,{default:a(()=>[s(I,{class:"bg-white"},{default:a(()=>[(r(!0),m(x,null,$(n(f).getHeaderGroups(),c=>(r(),w(b,{key:c.id},{default:a(()=>[(r(!0),m(x,null,$(c.headers,d=>(r(),w(k,{key:d.id},{default:a(()=>[d.isPlaceholder?te("",!0):(r(),w(n(R),{key:0,render:d.column.columnDef.header,props:d.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),s(P,null,{default:a(()=>[n(f).getRowModel().rows?.length?(r(!0),m(x,{key:0},$(n(f).getRowModel().rows,c=>(r(),w(b,{key:c.id},{default:a(()=>[(r(!0),m(x,null,$(c.getVisibleCells(),d=>(r(),w(K,{key:d.id},{default:a(()=>[s(n(R),{render:d.column.columnDef.cell,props:d.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1024))),128)):(r(),w(b,{key:1},{default:a(()=>[s(K,{colspan:i.columns.length,class:"text-left"},{default:a(()=>g[1]||(g[1]=[B("Нет результатов.",-1)])),_:1,__:[1]},8,["colspan"])]),_:1}))]),_:1})]),_:1})])],64)}}}),Be=[{accessorKey:"manager",ruName:"Менеджер",enableHiding:!1,header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"h-full w-full"},()=>["Менеджер",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-left pl-4 whitespace-nowrap"},`${e.original.manager} ${e.original.fired?"(Уволен)":""}`),filterFn:(e,u,y)=>y.includes(e.getValue(u))},{accessorKey:"totalSalary",ruName:"Зарплата",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Зарплата",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("totalSalary")+"₽")},{accessorKey:"pays",ruName:"Выплаты",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Выплаты",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("pays")+"₽")},{accessorKey:"rem",ruName:"Остаток",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Остаток",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("rem")+"₽")},{accessorKey:"shift",ruName:"Смены",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full text-wrap"},()=>["Смены",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("shift"))},{accessorKey:"shiftBonus",ruName:"Оплата смен",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full text-wrap"},()=>["Оплата смен",t(o,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("shiftBonus"))+"₽")},{accessorKey:"topBonus",ruName:"Топ бонусы",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Топ бонусы",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("topBonus")+"₽")},{accessorKey:"salesBonus",ruName:"в ЗП с факта",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["в ЗП с факта",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("salesBonus")+"₽")},{accessorKey:"payments",ruName:"ФАКТ",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["ФАКТ",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("payments")+"₽")},{accessorKey:"bonusPercentage",ruName:"% от выручки",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["% от выручки",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("bonusPercentage")+"%")},{accessorKey:"totalSales",ruName:"Выручка",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Выручка",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("totalSales")+"₽")},{accessorKey:"workSpacePlanBonus",ruName:"Бонус отдела",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full text-wrap"},()=>["Бонус отдела",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("workSpacePlanBonus")+"₽")},{accessorKey:"dealSales",ruName:"Сделки",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Сделки",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("dealSales"))+"₽")},{accessorKey:"dopSales",ruName:"Допы",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Допы",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},V(e.getValue("dopSales"))+"₽")},{accessorKey:"dimmerSales",ruName:"Диммеры",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Диммеры",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("dimmerSales"))},{accessorKey:"dealsWithoutDesigners",ruName:"Сделки без дизов",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Сделки без дизов",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("dealsWithoutDesigners"))},{accessorKey:"salesWithoutDesigners",ruName:"Сумма сделок без дизов",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full"},()=>["Сумма сделок без дизов",t(o,{class:"h-4 w-4"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("salesWithoutDesigners"))},{accessorKey:"conversionDayToDay",ruName:"Конверсия день в день",header:({column:e})=>t(l,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),class:"text-center h-full w-full"},()=>["Конверсия день в день",t(o,{class:"h-4 w-4 text-wrap"})]),cell:({row:e})=>t("div",{class:"text-center"},e.getValue("conversionDayToDay")+"%")}],Ne={class:"flex flex-col gap-2"},De={class:"flex gap-2 flex-wrap"},Ue={class:"flex gap-2 flex-1"},Ie={class:"flex gap-2 flex-1"},Ke={class:"w-full overflow-hidden"},Te=F({__name:"Content",props:{period:{}},setup(e){const{$useApi:u}=se(),p=h(e.period),S=h([{id:1,manager:"Иван Иванов",workSpace:"Продажи",dealSales:5e4,dopSales:1e4,totalSales:0,salesBonus:0,topBonus:0,totalSalary:0,shiftBonus:0},{id:2,manager:"Петр Петров",workSpace:"Маркетинг",dealSales:7e4,dopSales:15e3,totalSales:0,salesBonus:0,topBonus:0,totalSalary:0,shiftBonus:0}]),f=h([{user:"Иванов Иван Иванович",sales:100500},{user:"Петров Петр Петрович",sales:100500},{user:"Сидоров Сидор Сидорович",sales:100500}]),i=h([{user:"Иванов Иван Иванович",sales:100500},{user:"Петров Петр Петрович",sales:100500},{user:"Сидоров Сидор Сидорович",sales:100500}]),g=h([{user:"Иванов Иван Иванович",sales:100500},{user:"Петров Петр Петрович",sales:100500},{user:"Сидоров Сидор Сидорович",sales:100500}]),N=h([{user:"Иванов Иван Иванович",sales:100500},{user:"Петров Петр Петрович",sales:100500},{user:"Сидоров Сидор Сидорович",sales:100500}]),C=h([{user:"Иванов Иван Иванович",sales:100500},{user:"Петров Петр Петрович",sales:100500},{user:"Сидоров Сидор Сидорович",sales:100500}]);return ae(async()=>{const{data:v}=await u.get("salaries/mop/vk",{params:{period:p.value}});S.value=v.users,f.value=v.topTotalSales,i.value=v.topDopSales,g.value=v.topDimmerSales,N.value=v.topSalesWithoutDesigners,C.value=v.topConversionDayToDay}),(v,U)=>{const k=he,b=$e;return r(),m("div",Ne,[_("div",De,[_("div",Ue,[s(k,{class:"min-w-[300px]",managers:n(f),title:"Топ по выручке",after:"₽"},null,8,["managers"]),s(k,{class:"min-w-[300px]",managers:n(i),title:"Топ по доп.продажам",after:"₽"},null,8,["managers"])]),_("div",Ie,[s(k,{class:"min-w-[300px]",managers:n(g),title:"Топ по диммерам",after:"₽"},null,8,["managers"]),s(k,{class:"min-w-[300px]",managers:n(N),title:"Топ продаж без дизов",after:"₽"},null,8,["managers"]),s(k,{class:"min-w-[300px]",managers:n(C),title:"Топ конверсия",after:"%"},null,8,["managers"])])]),_("div",Ke,[s(b,{columns:n(Be),data:n(S)},null,8,["columns","data"])])])}}}),Me={class:"relative h-screen hidden-scrollbar"},Fe={class:"w-full fixed z-10"},Re={class:"h-full flex flex-col p-4 gap-2 mx-[auto] max-w-[2048px] pt-16 min-w-[1024px]"},Pe={class:"flex gap-6"},He={class:"flex gap-2 w-full h-full"},St=F({__name:"index",setup(e){_e({title:"Зарплаты | Easy CRM"});const u=h(new Date().toISOString().slice(0,7));return(y,p)=>{const S=le,f=oe,i=ce,g=ne,N=ke,C=ie,D=Te,v=re;return r(),m("div",Me,[_("div",Fe,[s(S)]),_("div",Re,[_("div",Pe,[s(f,{modelValue:n(u),"onUpdate:modelValue":p[0]||(p[0]=U=>fe(u)?u.value=U:null),type:"month",class:"w-[180px]"},null,8,["modelValue"]),p[1]||(p[1]=_("h1",{class:"text-3xl font-semibold"},"Менеджер",-1))]),_("div",He,[s(v,{"default-value":"B2B",class:"w-full"},{default:a(()=>[s(g,null,{default:a(()=>[s(i,{value:"B2B"},{default:a(()=>p[2]||(p[2]=[B("B2B",-1)])),_:1,__:[2]}),s(i,{value:"ВК"},{default:a(()=>p[3]||(p[3]=[B("ВК",-1)])),_:1,__:[3]})]),_:1}),s(C,{value:"B2B",class:""},{default:a(()=>[(r(),w(N,{key:n(u),period:n(u)},null,8,["period"]))]),_:1}),s(C,{value:"ВК"},{default:a(()=>[(r(),w(D,{key:n(u),period:n(u)},null,8,["period"]))]),_:1})]),_:1})])])])}}});export{St as default};
