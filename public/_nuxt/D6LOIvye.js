import{w as W,t as T,i as B,b as F,d as S,e as $,n as j,f as A}from"./D8EW8v7U.js";import{a0 as C,r as P,B as I,v as N,X as O,l as R,L as c,i as U,$ as X,Y as h}from"./LcRD3ia0.js";const V=$?window:void 0,Y=$?window.document:void 0;function x(n){var e;const s=O(n);return(e=s?.$el)!=null?e:s}function E(...n){const e=[],s=()=>{e.forEach(t=>t()),e.length=0},b=(t,i,u,l)=>(t.addEventListener(i,u,l),()=>t.removeEventListener(i,u,l)),a=N(()=>{const t=S(O(n[0])).filter(i=>i!=null);return t.every(i=>typeof i!="string")?t:void 0}),m=W(()=>{var t,i;return[(i=(t=a.value)==null?void 0:t.map(u=>x(u)))!=null?i:[V].filter(u=>u!=null),S(O(a.value?n[1]:n[0])),S(R(a.value?n[2]:n[1])),O(a.value?n[3]:n[2])]},([t,i,u,l])=>{if(s(),!t?.length||!i?.length||!u?.length)return;const r=F(l)?{...l}:l;e.push(...t.flatMap(w=>i.flatMap(o=>u.map(v=>b(w,o,v,r)))))},{flush:"post"}),f=()=>{m(),s()};return T(s),f}function q(){const n=c(!1),e=C();return e&&U(()=>{n.value=!0},e),n}function J(n){const e=q();return N(()=>(e.value,!!n()))}function z(n){return JSON.parse(JSON.stringify(n))}function Q(n={}){const{document:e=Y}=n;if(!e)return c("visible");const s=c(e.visibilityState);return E(e,"visibilitychange",()=>{s.value=e.visibilityState},{passive:!0}),s}function Z(n,e,s={}){const{root:b,rootMargin:a="0px",threshold:m=0,window:f=V,immediate:t=!0}=s,i=J(()=>f&&"IntersectionObserver"in f),u=N(()=>{const v=O(n);return S(v).map(x).filter(j)});let l=A;const r=c(t),w=i.value?I(()=>[u.value,x(b),r.value],([v,p])=>{if(l(),!r.value||!v.length)return;const y=new IntersectionObserver(e,{root:x(p),rootMargin:a,threshold:m});v.forEach(g=>g&&y.observe(g)),l=()=>{y.disconnect(),l=A}},{immediate:t,flush:"post"}):A,o=()=>{l(),w(),r.value=!1};return T(o),{isSupported:i,isActive:r,pause(){l(),r.value=!1},resume(){r.value=!0},stop:o}}function G(n={}){const{window:e=V}=n,s=e?.navigator,b=J(()=>s&&"connection"in s),a=c(!0),m=c(!1),f=c(void 0),t=c(void 0),i=c(void 0),u=c(void 0),l=c(void 0),r=c(void 0),w=c("unknown"),o=b.value&&s.connection;function v(){s&&(a.value=s.onLine,f.value=a.value?void 0:Date.now(),t.value=a.value?Date.now():void 0,o&&(i.value=o.downlink,u.value=o.downlinkMax,r.value=o.effectiveType,l.value=o.rtt,m.value=o.saveData,w.value=o.type))}const p={passive:!0};return e&&(E(e,"offline",()=>{a.value=!1,f.value=Date.now()},p),E(e,"online",()=>{a.value=!0,t.value=Date.now()},p)),o&&E(o,"change",v,p),v(),{isSupported:b,isOnline:h(a),saveData:h(m),offlineAt:h(f),onlineAt:h(t),downlink:h(i),downlinkMax:h(u),effectiveType:h(r),rtt:h(l),type:h(w)}}function _(n={}){const{isOnline:e}=G(n);return e}function ee(n,e,s,b={}){var a,m,f;const{clone:t=!1,passive:i=!1,eventName:u,deep:l=!1,defaultValue:r,shouldEmit:w}=b,o=C(),v=s||o?.emit||((a=o?.$emit)==null?void 0:a.bind(o))||((f=(m=o?.proxy)==null?void 0:m.$emit)==null?void 0:f.bind(o?.proxy));let p=u;p=p||`update:${e.toString()}`;const y=d=>t?typeof t=="function"?t(d):z(d):d,g=()=>B(n[e])?y(n[e]):r,L=d=>{w?w(d)&&v(p,d):v(p,d)};if(i){const d=g(),k=P(d);let D=!1;return I(()=>n[e],M=>{D||(D=!0,k.value=y(M),X(()=>D=!1))}),I(k,M=>{!D&&(M!==n[e]||l)&&L(M)},{deep:l}),k}else return N({get(){return g()},set(d){L(d)}})}export{E as a,Q as b,_ as c,q as d,ee as e,Z as u};
