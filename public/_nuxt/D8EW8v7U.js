import{L as P,H as d,B as g,aU as j,X as p,aA as I,aB as x,v as A,y as v,l as C,aF as y,a0 as O,b6 as _,Z as D,a1 as T}from"./LcRD3ia0.js";function h(e){return I()?(x(e),!0):!1}const f=new WeakMap,W=(...e)=>{var r;const n=e[0],t=(r=O())==null?void 0:r.proxy;if(t==null&&!_())throw new Error("injectLocal must be called in setup");return t&&f.has(t)&&n in f.get(t)?f.get(t)[n]:D(...e)};function k(e,r){var n;const t=(n=O())==null?void 0:n.proxy;if(t==null)throw new Error("provideLocal must be called in setup");f.has(t)||f.set(t,Object.create(null));const o=f.get(t);return o[e]=r,T(e,r)}function K(e,r){const n=Symbol(e.name||"InjectionState"),t=void 0;return[(...i)=>{const u=e(...i);return k(n,u),u},()=>W(n,t)]}function F(e){if(!d(e))return v(e);const r=new Proxy({},{get(n,t,o){return C(Reflect.get(e.value,t,o))},set(n,t,o){return d(e.value[t])&&!d(o)?e.value[t].value=o:e.value[t]=o,!0},deleteProperty(n,t){return Reflect.deleteProperty(e.value,t)},has(n,t){return Reflect.has(e.value,t)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return v(r)}function L(e){return F(A(e))}function M(e,...r){const n=r.flat(),t=n[0];return L(()=>Object.fromEntries(typeof t=="function"?Object.entries(y(e)).filter(([o,a])=>!t(p(a),o)):Object.entries(y(e)).filter(o=>!n.includes(o[0]))))}const w=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const H=e=>typeof e<"u",N=e=>e!=null,E=Object.prototype.toString,R=e=>E.call(e)==="[object Object]",S=()=>{};function V(e,r){function n(...t){return new Promise((o,a)=>{Promise.resolve(e(()=>r.apply(this,t),{fn:r,thisArg:this,args:t})).then(o).catch(a)})}return n}function B(e,r={}){let n,t,o=S;const a=c=>{clearTimeout(c),o(),o=S};let i;return c=>{const l=p(e),s=p(r.maxWait);return n&&a(n),l<=0||s!==void 0&&s<=0?(t&&(a(t),t=void 0),Promise.resolve(c())):new Promise((m,b)=>{o=r.rejectOnCancel?b:m,i=c,s&&!t&&(t=setTimeout(()=>{n&&a(n),t=void 0,m(i())},s)),n=setTimeout(()=>{t&&a(t),t=void 0,m(c())},l)})}}function U(e){return Array.isArray(e)?e:[e]}function X(e,r=200,n={}){return V(B(r,n),e)}function Z(e,r=1e3,n={}){const{immediate:t=!0,immediateCallback:o=!1}=n;let a=null;const i=P(!1);function u(){a&&(clearInterval(a),a=null)}function c(){i.value=!1,u()}function l(){const s=p(r);s<=0||(i.value=!0,o&&e(),u(),i.value&&(a=setInterval(e,s)))}if(t&&w&&l(),d(r)||typeof r=="function"){const s=g(r,()=>{i.value&&w&&l()});h(s)}return h(c),{isActive:j(i),pause:c,resume:l}}function q(e,r,n){return g(e,r,{...n,immediate:!0})}export{Z as a,R as b,K as c,U as d,w as e,S as f,H as i,N as n,M as r,h as t,X as u,q as w};
