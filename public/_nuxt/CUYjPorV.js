import{_ as ot}from"./Bmr5wyhr.js";import{_ as rt,a as ut,b as ct,c as it,d as dt}from"./AeDsR3BR.js";import{_ as vt}from"./CCJdEHHg.js";import{_ as ft,a as _t,b as pt}from"./CNLsaPwj.js";import{_ as mt}from"./fRExJa2e.js";import{_ as bt,a as kt,b as gt}from"./DkMjgWCi.js";import{_ as yt}from"./BXoTK-I8.js";import{_ as je,a as De,b as xt,c as wt,d as ht,e as Ct}from"./Df1Q6CGn.js";import{c as Me}from"./D8Osd5Ax.js";import{e as we,m as H,o as _,w as a,b as s,x as At,l as E,a as U,n as Fe,c as b,A as Ge,g as $t,u as Pt,r as v,v as S,B as _e,i as St,C as Ut,D as w,t as o,F as xe,z as Ve,d as r}from"./LcRD3ia0.js";import{r as Tt}from"./D8EW8v7U.js";import{_ as Nt}from"./BgkA-2sO.js";import{Q as It}from"./DVXwaM75.js";import{C as Bt,T as Vt,a as jt}from"./BzpC6JEa.js";import"./DfRdkKc3.js";import"./D5ydJhlK.js";import"./D9TSNOAg.js";import"./DkkQ8vn7.js";import"./BdQOAs7V.js";import"./BOGtf0gU.js";import"./QkXyQO2w.js";import"./BcyKike4.js";const Dt={class:"flex items-center justify-center py-10"},Mt=we({__name:"TableEmpty",props:{class:{},colspan:{default:1}},setup(M){const j=M,F=Tt(j,"class");return(O,ae)=>(_(),H(De,null,{default:a(()=>[s(je,At({class:E(Me)("p-4 whitespace-nowrap align-middle text-sm text-foreground",j.class)},E(F)),{default:a(()=>[U("div",Dt,[Fe(O.$slots,"default")])]),_:3},16,["class"])]),_:3}))}}),Ft=we({__name:"TableFooter",props:{class:{}},setup(M){const j=M;return(F,O)=>(_(),b("tfoot",{"data-slot":"table-footer",class:Ge(E(Me)("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",j.class))},[Fe(F.$slots,"default")],2))}});function Gt(){const{$useApi:M}=$t();async function j(T){const{data:p}=await M.get("vk-ads/ad_plans/statistics/day",{params:T});return p}async function F(T,p){const{data:N}=await M.get(`vk-ads/ad_plans/${T}/groups/statistics/day`,{params:p});return N}async function O(T){const p=T?{...T}:void 0;if(p){const G=C=>Array.isArray(C)||C instanceof Set?Array.from(C).map(I=>I==null?"":String(I)).filter(Boolean).join(","):C;p.ids!==void 0&&(p.ids=G(p.ids)),(Array.isArray(p.status)||p.status instanceof Set)&&(p.status=G(p.status))}const{data:N}=await M.get("vk-ads/ad_groups/statistics/day",{params:p});return N}async function ae(T){const p=T?{...T}:void 0;if(p){const G=C=>Array.isArray(C)||C instanceof Set?Array.from(C).map(I=>I==null?"":String(I)).filter(Boolean).join(","):C;p.ids!==void 0&&(p.ids=G(p.ids)),(Array.isArray(p.status)||p.status instanceof Set)&&(p.status=G(p.status))}const{data:N}=await M.get("vk-ads/banners/statistics/day",{params:p});return N}return{adPlans:j,adPlanGroupsDay:F,adGroupsDay:O,getBanners:ae}}const Lt={class:"relative h-screen overflow-hidden hidden-scrollbar"},Rt={class:"w-full fixed z-10"},Et={class:"h-full flex flex-col p-4 gap-2 mx-[auto] max-w-[2048px] pt-16 min-w-[1024px]"},Ot={class:"max-w-full mx-auto h-full flex flex-col min-h-0"},Wt={class:"flex gap-2 items-center"},zt={key:0,class:"text-red-600 whitespace-pre-wrap mb-3"},Ht={class:""},Kt={key:0},Qt={key:0},Xt={key:0},qt={key:0},Jt={key:0},Yt={key:0},Zt={key:0},es={key:0},ts={key:0},ss={key:0},as={key:0},ns={key:0},ls={key:0},os={class:"flex flex-col gap-1 items-start"},rs=["onClick"],us=["onClick"],cs={key:2,class:"text-left"},is={class:"text-xs text-neutral-400"},ds={key:3,class:"text-xs text-neutral-400"},vs={key:0,class:"flex justify-center py-3"},js=we({__name:"stat",setup(M){Pt({title:"VK Реклама | Easy CRM"});const j=v(new Date().toISOString().slice(0,7)),F=v([new Date(j.value+"-01"),new Date(+j.value.split("-")[0],+j.value.split("-")[1],0)]),O=t=>"Период с "+t.map(e=>e.toLocaleDateString()).join(" по "),{adPlans:ae,adGroupsDay:T,getBanners:p}=Gt(),N=v(""),G=v(""),C=v(!1),I=v(""),pe=v(null),L=v([]),he=v(null),me=v(null),ne=v(30),K=v(0),Q=v(void 0),le=v(void 0),X=v(void 0),Ce=[{value:"neon",name:"ИзиНеон"},{value:"book",name:"ИзиБук"}],oe=v(Ce[0]?.value||"");function Ae(){if(d.value!=="groups")return;const t=L.value.reduce((e,l)=>{const i=Number(l?.banners_count??0);return e+(isNaN(i)?0:i)},0);X.value=t,Z.value=t}const q=v(!0),re=v(!1),J=v(null),x=v("shows"),y=v("desc"),B=v({}),be=v(!1),Y=v(!1),ue=S(()=>L.value.map(t=>String(t?.id??t?._id??"")).filter(Boolean)),Le=S(()=>ue.value.some(t=>!!B.value[t])),$e=S(()=>ue.value.length>0&&ue.value.every(t=>!!B.value[t]));function Re(t){const e=!!t;if(Y.value=e,e)for(const l of ue.value)B.value[l]=!0;else B.value={}}function Ee(t,e){B.value[t]=!!e,Y.value&&(Y.value=!1)}const ce=v(0),Z=v(0),ie=v([]),Oe=S(()=>ie.value?.length?ie.value:Pe.value),de=v([]),We=S(()=>de.value?.length?de.value:Se.value),ve=v({}),Pe=S(()=>{const t=new Set,e=ve.value;for(const[l,i]of Object.entries(B.value)){if(!i)continue;const u=e[l],c=Array.isArray(u?.ad_groups)?u.ad_groups:[];for(const P of c)t.add(P)}return Array.from(t)}),ke=v({}),Se=S(()=>{const t=new Set;if(d.value==="groups"){const l=ke.value;for(const[i,u]of Object.entries(B.value)){if(!u)continue;const c=Array.isArray(l[i]?.banners)?l[i].banners:[];for(const P of c)t.add(P)}return Array.from(t)}const e=ve.value;for(const[l,i]of Object.entries(B.value)){if(!i)continue;const u=Array.isArray(e[l]?.banners)?e[l].banners:[];for(const c of u)t.add(c)}return Array.from(t)}),ze=S(()=>{const t=Pe.value.length;return t>0?t:ce.value}),He=S(()=>{const t=Se.value.length;return t>0?t:Z.value}),d=v("ad_plans");function k(t){if(t==null)return 0;const e=typeof t=="string"?parseFloat(t):Number(t);return isNaN(e)?0:e}function Ue(t,e){const l=t?.total?.base;switch(e){case"name":return t?.name??"";case"shows":return l?.shows;case"clicks":return l?.clicks;case"ctr":return l?.ctr;case"cpc":return l?.cpc;case"cpm":return l?.cpm;case"spent":return l?.spent;case"spent_nds":return d.value!=="ad_plans"?t?.spent_nds??k(l?.spent)*1.2:k(l?.spent)*1.2;case"vk_goals":return l?.vk?.goals;case"vk_cpa":return l?.vk?.cpa;case"vk_cr":return l?.vk?.cr;case"dealsPrice":return t?.dealsPrice;case"drr":return t?.drr;case"maketPrice":return t?.maketPrice;case"makets":return t?.makets;case"budget_limit_day":return t?.budget_limit_day}}const Te=S(()=>{const t=[...L.value],e=x.value,l=y.value;return t.sort((i,u)=>{const c=Ue(i,e),P=Ue(u,e),W=typeof c=="number"?c:Number(c),z=typeof P=="number"?P:Number(P),te=!isNaN(W)&&!isNaN(z);let g=0;if(te)g=W-z;else{const D=(c??"").toString().toLowerCase(),R=(P??"").toString().toLowerCase();g=D.localeCompare(R)}return l==="asc"?g:-g}),t});async function A(t){x.value===t?y.value=y.value==="asc"?"desc":"asc":(x.value=t,y.value="desc"),N.value&&await fe()}const Ke=S(()=>pe.value?.total?.base||null),$=S(()=>{const t=Ke.value,e=pe.value||{},l=L.value.reduce((g,D)=>{g.dealsPrice+=k(D?.dealsPrice),g.maketPrice+=k(D?.maketPrice),g.makets+=k(D?.makets),g.budget_limit_day+=k(D?.budget_limit_day);const R=k(D?.dealsPrice),ge=k(D?.drr);return R>0&&(g._drrWeightedSum+=ge*R,g._drrWeight+=R),g},{dealsPrice:0,maketPrice:0,makets:0,budget_limit_day:0,_drrWeightedSum:0,_drrWeight:0}),i=k(t?.spent),u=i>0?i*1.2:0,c=g=>g!=null,P=c(e?.dealsPrice_total)?k(e.dealsPrice_total):l.dealsPrice,W=c(e?.maketPrice_total)?k(e.maketPrice_total):l.maketPrice,z=c(e?.makets_total)?k(e.makets_total):l.makets,te=c(e?.drr_total)?k(e.drr_total):l._drrWeight>0?l._drrWeightedSum/l._drrWeight:0;return{spent:i,spent_nds:u,vk_goals:k(t?.vk?.goals),shows:k(t?.shows),clicks:k(t?.clicks),cr:k(t?.vk?.cr),ctr:k(t?.ctr),dealsPrice:P,drr:te,maketPrice:W,makets:z,budget_limit_day:l.budget_limit_day}});_e(F,async t=>{const[e,l]=t;N.value=e.toLocaleDateString().split(".").reverse().join("-"),G.value=l.toISOString().slice(0,10),await fe({suppressIo:!0})},{immediate:!0}),_e(oe,async()=>{N.value&&await fe({suppressIo:!0})}),_e(d,async()=>{N.value&&(d.value!=="groups"&&(ie.value=[],he.value=null),d.value!=="banners"&&(de.value=[],me.value=null),await fe({suppressIo:!0}))});function m(t){if(t==null)return"";const e=Number(t);return isNaN(e)?t:e.toLocaleString("ru-RU")}function Qe(){const e={name:"name",shows:"base.shows",clicks:"base.clicks",ctr:"base.ctr",cpc:"base.cpc",cpm:"base.cpm",spent:"base.spent",spent_nds:"base.spent",vk_goals:"base.vk.goals",vk_cpa:"base.vk.cpa",vk_cr:"base.vk.cr",dealsPrice:"dealsPrice",drr:"drr",maketPrice:"maketPrice",makets:"makets",budget_limit_day:"budget_limit_day"}[x.value];return e?{sort_by:e,d:y.value}:{}}async function Ne(t=0){const e=Qe(),l={date_from:N.value,date_to:G.value||void 0,limit:ne.value,offset:t,project:oe.value||void 0,...e};if(d.value==="groups"){const i={...l,ids:Oe.value};return await T(i)}if(d.value==="banners"){const i={...l,ids:We.value};return await p(i)}return await ae(l)}async function fe(t){I.value="",C.value=!0,q.value=!0,K.value=0,d.value==="ad_plans"?Q.value=void 0:d.value==="groups"?le.value=void 0:d.value==="banners"&&(X.value=void 0),L.value=[];try{t?.suppressIo&&(be.value=!0);const e=await Ne(0);pe.value=e;const l=Array.isArray(e?.items)?e.items:[];if(L.value=l,Y.value&&l.length)for(const u of l){const c=String(u?.id??u?._id??"");c&&(B.value[c]=!0)}if(d.value==="ad_plans"&&(ce.value=Number(e?.ad_group_count||0),Z.value=Number(e?.banners_count||0)),d.value==="ad_plans"&&l.length)for(const u of l){const c=String(u?.id??u?._id??"");c&&(ve.value[c]={ad_groups:Array.isArray(u?.ad_groups)?u.ad_groups:[],banners:Array.isArray(u?.banners)?u.banners:[]})}if(d.value==="groups"&&Ae(),d.value==="groups"&&l.length)for(const u of l){const c=String(u?.id??u?._id??"");c&&(ke.value[c]={banners:Array.isArray(u?.banners)?u.banners:[]})}const i=typeof e?.count=="number"?e.count:void 0;d.value==="ad_plans"?Q.value=i:d.value==="groups"?(le.value=i,typeof i=="number"&&(ce.value=i)):d.value==="banners"&&(X.value=i,typeof i=="number"&&(Z.value=i)),q.value=i!==void 0?l.length<ne.value||l.length<i:l.length>=ne.value,K.value=l.length}catch(e){I.value=e?.response?.data?.message||e?.message||"Ошибка"}finally{C.value=!1}}async function Xe(t){ie.value=Array.isArray(t?.ad_groups)?t.ad_groups:[],he.value={id:String(t?.id??t?._id??""),name:t?.name??""},d.value="groups"}async function qe(t){de.value=Array.isArray(t?.banners)?t.banners:[],me.value={id:String(t?.id??t?._id??""),name:t?.name??""},d.value="banners"}async function Je(){if(!(re.value||C.value||!q.value)){re.value=!0;try{const t=await Ne(K.value),e=Array.isArray(t?.items)?t.items:[];if(e.length){if(L.value=L.value.concat(e),K.value+=e.length,Y.value)for(const u of e){const c=String(u?.id??u?._id??"");c&&(B.value[c]=!0)}if(d.value==="ad_plans")for(const u of e){const c=String(u?.id??u?._id??"");c&&(ve.value[c]={ad_groups:Array.isArray(u?.ad_groups)?u.ad_groups:[],banners:Array.isArray(u?.banners)?u.banners:[]})}if(d.value==="groups")for(const u of e){const c=String(u?.id??u?._id??"");c&&(ke.value[c]={banners:Array.isArray(u?.banners)?u.banners:[]})}d.value==="groups"&&Ae()}const l=typeof t?.count=="number"?t.count:void 0;l!==void 0&&(d.value==="ad_plans"?Q.value=l:d.value==="groups"?(le.value=l,ce.value=l):d.value==="banners"&&(X.value=l,Z.value=l));const i=d.value==="ad_plans"?Q.value:d.value==="groups"?le.value:X.value;e.length<ne.value&&(q.value=!1),i!==void 0&&K.value>=i&&(q.value=!1)}catch(t){I.value=t?.response?.data?.message||t?.message||"Ошибка"}finally{re.value=!1}}}let V=null,ee=null;const Ie=v(null);return St(()=>{V=new IntersectionObserver(t=>{const e=t[0];e&&e.isIntersecting&&(be.value&&(be.value=!1),Je())},{root:Ie.value,rootMargin:"0px 0px 200px 0px",threshold:0}),J.value&&V&&(V.observe(J.value),ee=J.value)}),Ut(()=>{V&&ee&&V.unobserve(ee),V&&V.disconnect(),V=null}),_e(()=>J.value,(t,e)=>{V&&(e&&V.unobserve(e),ee=null,t&&(V.observe(t),ee=t))}),(t,e)=>{const l=ot,i=ct,u=ut,c=dt,P=vt,W=it,z=rt,te=pt,g=gt,D=kt,R=bt,ge=_t,Be=yt,h=ht,ye=De,Ye=wt,f=je,Ze=Nt,et=Ct,tt=Ft,st=xt,at=Mt,nt=mt,lt=ft;return _(),b("div",Lt,[U("div",Rt,[s(l)]),U("div",Et,[U("div",Ot,[U("div",Wt,[s(z,{modelValue:oe.value,"onUpdate:modelValue":e[0]||(e[0]=n=>oe.value=n)},{default:a(()=>[s(u,{class:"w-[160px]"},{default:a(()=>[s(i,{placeholder:"Выбрать проект"})]),_:1}),s(W,null,{default:a(()=>[s(P,null,{default:a(()=>[(_(),b(xe,null,Ve(Ce,n=>s(c,{key:n.value,value:n.value},{default:a(()=>[r(o(n.name),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(E(It),{modelValue:F.value,"onUpdate:modelValue":e[1]||(e[1]=n=>F.value=n),range:"","enable-time-picker":!1,locale:"ru",placeholder:"Выбрать дни","select-text":"Готово","cancel-text":"Закрыть",class:"grow",format:O,clearable:!1,"multi-calendars":""},null,8,["modelValue"])]),I.value?(_(),b("p",zt,o(I.value),1)):w("",!0),s(lt,{class:"mt-2 flex-1 min-h-0 flex flex-col"},{default:a(()=>[s(ge,{class:"p-2"},{default:a(()=>[s(te),U("div",Ht,[s(R,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=n=>d.value=n),"default-value":"ad_plans"},{default:a(()=>[s(D,null,{default:a(()=>[s(g,{value:"ad_plans"},{default:a(()=>[r("Компании ("+o(Q.value)+")",1)]),_:1}),s(g,{value:"groups"},{default:a(()=>[r("Группы ("+o(ze.value)+")",1)]),_:1}),s(g,{value:"banners"},{default:a(()=>[r("Баннеры ("+o(He.value)+")",1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),s(nt,{class:"flex-1 min-h-0 p-0"},{default:a(()=>[U("div",{ref_key:"tableScrollEl",ref:Ie,class:"h-full min-h-0 overflow-y-auto hidden-scrollbar"},[Te.value.length?(_(),b(xe,{key:0},[s(st,{class:"min-w-full"},{default:a(()=>[s(Ye,{class:""},{default:a(()=>[s(ye,{class:"sticky top-0 z-10 bg-neutral-200 hover:bg-neutral-200"},{default:a(()=>[s(h,{class:"w-10 text-center"},{default:a(()=>[s(Be,{checked:$e.value,indeterminate:Le.value&&!$e.value,"onUpdate:checked":Re},null,8,["checked","indeterminate"])]),_:1}),s(h,{class:"w-16 text-center"},{default:a(()=>e[16]||(e[16]=[r("Вкл.",-1)])),_:1,__:[16]}),s(h,{class:"text-left cursor-pointer select-none",onClick:e[3]||(e[3]=n=>A("name"))},{default:a(()=>[e[17]||(e[17]=r(" Название ",-1)),x.value==="name"?(_(),b("span",Kt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[17]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[4]||(e[4]=n=>A("spent"))},{default:a(()=>[e[18]||(e[18]=r(" Потрачено ",-1)),x.value==="spent"?(_(),b("span",Qt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[18]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[5]||(e[5]=n=>A("spent_nds"))},{default:a(()=>[e[19]||(e[19]=r(" Потрачено с НДС ",-1)),x.value==="spent_nds"?(_(),b("span",Xt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[19]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[6]||(e[6]=n=>A("dealsPrice"))},{default:a(()=>[e[20]||(e[20]=r(" Оформлено ",-1)),x.value==="dealsPrice"?(_(),b("span",qt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[20]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[7]||(e[7]=n=>A("drr"))},{default:a(()=>[e[21]||(e[21]=r(" ДРР ",-1)),x.value==="drr"?(_(),b("span",Jt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[21]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[8]||(e[8]=n=>A("maketPrice"))},{default:a(()=>[e[22]||(e[22]=r(" Цена макета ",-1)),x.value==="maketPrice"?(_(),b("span",Yt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[22]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[9]||(e[9]=n=>A("makets"))},{default:a(()=>[e[23]||(e[23]=r(" Макеты ",-1)),x.value==="makets"?(_(),b("span",Zt,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[23]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[10]||(e[10]=n=>A("budget_limit_day"))},{default:a(()=>[e[24]||(e[24]=r(" Лимит/день ",-1)),x.value==="budget_limit_day"?(_(),b("span",es,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[24]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[11]||(e[11]=n=>A("vk_goals"))},{default:a(()=>[e[25]||(e[25]=r(" Лиды ",-1)),x.value==="vk_goals"?(_(),b("span",ts,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[25]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[12]||(e[12]=n=>A("shows"))},{default:a(()=>[e[26]||(e[26]=r(" Показы ",-1)),x.value==="shows"?(_(),b("span",ss,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[26]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[13]||(e[13]=n=>A("clicks"))},{default:a(()=>[e[27]||(e[27]=r(" Клики ",-1)),x.value==="clicks"?(_(),b("span",as,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[27]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[14]||(e[14]=n=>A("vk_cr"))},{default:a(()=>[e[28]||(e[28]=r(" CR ",-1)),x.value==="vk_cr"?(_(),b("span",ns,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[28]}),s(h,{class:"text-center cursor-pointer select-none",onClick:e[15]||(e[15]=n=>A("ctr"))},{default:a(()=>[e[29]||(e[29]=r(" CTR ",-1)),x.value==="ctr"?(_(),b("span",ls,o(y.value==="asc"?"▲":"▼"),1)):w("",!0)]),_:1,__:[29]})]),_:1})]),_:1}),s(et,null,{default:a(()=>[(_(!0),b(xe,null,Ve(Te.value,n=>(_(),H(ye,{key:n.id||n._id},{default:a(()=>[s(f,{class:"text-center"},{default:a(()=>[s(Be,{checked:!!B.value[(n.id||n._id)+""],"onUpdate:checked":se=>Ee((n.id||n._id)+"",se)},null,8,["checked","onUpdate:checked"])]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[s(Ze,{checked:n.status==="active",disabled:n.status==="deleted","onUpdate:checked":se=>n.status=se?"active":"blocked"},null,8,["checked","disabled","onUpdate:checked"])]),_:2},1024),s(f,{class:"text-left"},{default:a(()=>[U("div",os,[d.value==="ad_plans"?(_(),b("button",{key:0,type:"button",class:"text-left text-blue-600 hover:underline cursor-pointer font-bold",onClick:se=>Xe(n)},o(n.name??"-"),9,rs)):d.value==="groups"&&!me.value?(_(),b("button",{key:1,type:"button",class:"text-left text-blue-600 hover:underline cursor-pointer font-bold",onClick:se=>qe(n)},o(n.name??"-"),9,us)):(_(),b("span",cs,o(n.name??"-"),1)),U("span",is,o(n.id??n._id),1),n.ref?(_(),b("span",ds,o(n.ref),1)):w("",!0),U("span",{class:Ge(["inline-flex items-center gap-2 rounded-full px-1 py-0 text-xs text-white",{"bg-emerald-500":n.status==="active","bg-amber-500":n.status==="blocked","bg-rose-500":n.status==="deleted"}])},[n.status==="active"?(_(),H(E(Bt),{key:0,class:"w-3 h-3"})):n.status==="paused"?(_(),H(E(Vt),{key:1,class:"w-3 h-3"})):(_(),H(E(jt),{key:2,class:"w-3 h-3"})),r(" "+o(n.status==="active"?"Активна":n.status==="blocked"?"Заблокирована":"Удалена"),1)],2)])]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.total?.base?.spent??"0"))+" ₽",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(d.value!=="ad_plans"?k(n?.spent_nds??k(n?.total?.base?.spent)*1.2):k(n?.total?.base?.spent)*1.2))+" ₽ ",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.dealsPrice??0))+" ₽",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.drr??0))+"%",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.maketPrice??0))+" ₽",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.makets??0)),1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.budget_limit_day??0))+" ₽",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.total?.base?.vk?.goals??0)),1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.total?.base?.shows??0)),1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.total?.base?.clicks??0)),1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.total?.base?.vk?.cr??0))+" %",1)]),_:2},1024),s(f,{class:"text-center"},{default:a(()=>[r(o(m(n?.total?.base?.ctr??0))+" %",1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(tt,null,{default:a(()=>[s(ye,{class:"sticky bottom-0 z-10 bg-neutral-200 hover:bg-neutral-200"},{default:a(()=>[s(f,{class:"text-center"}),s(f,{class:"text-center"}),s(f,{class:"text-left font-medium"},{default:a(()=>e[30]||(e[30]=[r("Итого",-1)])),_:1,__:[30]}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.spent))+" ₽ ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.spent_nds))+" ₽ ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.dealsPrice))+" ₽ ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.drr))+"% ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.maketPrice))+" ₽ ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.makets)),1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.budget_limit_day))+" ₽ ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.vk_goals)),1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.shows)),1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.clicks)),1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.cr))+" % ",1)]),_:1}),s(f,{class:"text-center"},{default:a(()=>[r(o(m($.value.ctr))+" % ",1)]),_:1})]),_:1})]),_:1})]),_:1}),re.value?(_(),b("div",vs,e[31]||(e[31]=[U("span",{class:"text-sm text-neutral-500"},"Загрузка...",-1)]))):w("",!0),U("div",{ref_key:"loadMoreEl",ref:J,class:"h-8 mb-24","aria-hidden":"true"},null,512)],64)):(_(),H(at,{key:1},{default:a(()=>e[32]||(e[32]=[r("нет записей",-1)])),_:1,__:[32]}))],512)]),_:1})]),_:1})])])])}}});export{js as default};
