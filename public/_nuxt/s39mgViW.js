import{M as b,H as d,B as O,am as j,i as I,W as x,O as p,Y as T,U as C,v as W,Q as v,y,l as _,J as h,aH as k,T as A,$ as D}from"./BbheI0mw.js";function w(e){return T()?(C(e),!0):!1}const f=new WeakMap,L=(...e)=>{var r;const n=e[0],t=(r=v())==null?void 0:r.proxy;if(t==null&&!k())throw new Error("injectLocal must be called in setup");return t&&f.has(t)&&n in f.get(t)?f.get(t)[n]:A(...e)};function M(e,r){var n;const t=(n=v())==null?void 0:n.proxy;if(t==null)throw new Error("provideLocal must be called in setup");f.has(t)||f.set(t,Object.create(null));const i=f.get(t);return i[e]=r,D(e,r)}function J(e,r){const n=Symbol(e.name||"InjectionState"),t=void 0;return[(...a)=>{const u=e(...a);return M(n,u),u},()=>L(n,t)]}function E(e){if(!d(e))return y(e);const r=new Proxy({},{get(n,t,i){return _(Reflect.get(e.value,t,i))},set(n,t,i){return d(e.value[t])&&!d(i)?e.value[t].value=i:e.value[t]=i,!0},deleteProperty(n,t){return Reflect.deleteProperty(e.value,t)},has(n,t){return Reflect.has(e.value,t)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return y(r)}function F(e){return E(W(e))}function N(e,...r){const n=r.flat(),t=n[0];return F(()=>Object.fromEntries(typeof t=="function"?Object.entries(h(e)).filter(([i,o])=>!t(p(o),i)):Object.entries(h(e)).filter(i=>!n.includes(i[0]))))}const g=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Q=e=>typeof e<"u",R=e=>e!=null,V=Object.prototype.toString,U=e=>V.call(e)==="[object Object]",S=()=>{};function G(e,r){function n(...t){return new Promise((i,o)=>{Promise.resolve(e(()=>r.apply(this,t),{fn:r,thisArg:this,args:t})).then(i).catch(o)})}return n}function H(e,r={}){let n,t,i=S;const o=c=>{clearTimeout(c),i(),i=S};let a;return c=>{const l=p(e),s=p(r.maxWait);return n&&o(n),l<=0||s!==void 0&&s<=0?(t&&(o(t),t=void 0),Promise.resolve(c())):new Promise((m,P)=>{i=r.rejectOnCancel?P:m,a=c,s&&!t&&(t=setTimeout(()=>{n&&o(n),t=void 0,m(a())},s)),n=setTimeout(()=>{t&&o(t),t=void 0,m(c())},l)})}}function Y(e){return Array.isArray(e)?e:[e]}function K(e){return v()}function $(e,r=200,n={}){return G(H(r,n),e)}function q(e,r=!0,n){K()?I(e,n):r?e():x(e)}function z(e,r=1e3,n={}){const{immediate:t=!0,immediateCallback:i=!1}=n;let o=null;const a=b(!1);function u(){o&&(clearInterval(o),o=null)}function c(){a.value=!1,u()}function l(){const s=p(r);s<=0||(a.value=!0,i&&e(),u(),a.value&&(o=setInterval(e,s)))}if(t&&g&&l(),d(r)||typeof r=="function"){const s=O(r,()=>{a.value&&g&&l()});w(s)}return w(c),{isActive:j(a),pause:c,resume:l}}function X(e,r,n){return O(e,r,{...n,immediate:!0})}export{w as a,g as b,J as c,Y as d,U as e,S as f,z as g,Q as i,R as n,N as r,q as t,$ as u,X as w};
